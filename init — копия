(function(m,w,h){var x="roistat_visit",B="roistat_first_visit",G="roistat_is_need_listen_requests",l="roistat_visit_cookie_expire",d="roistat_is_save_data_in_cookie",z="roistat_cookies_to_resave",n="roistat_is_need_disable_collector",g="1209600",t={expires:parseInt(g),path:"/"},y={expires:10*365*24*60*60,path:"/"};var v=function(J){try{return decodeURIComponent(J)}catch(K){var I;I=q(J);if(I===null){return J}return I}};var q=function(M){var L={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var J="";var K=0;while(K<M.length){var I=M.substring(K,K+3);if(Object.prototype.hasOwnProperty.call(L,I)){J+=L[I];K+=3}else{J+=M.substring(K,K+1);K++}}try{return decodeURIComponent(J)}catch(N){return null}};var u=function(){var I=m.maCookiePrefix;return typeof I==="string"?I:"roistat"};var o=u();var C=function(){return m[o+"ProjectId"]};var r=function(){return C().replace(/\D/g,"")};var p=function(L,J){var K=L.length;for(var I=0;I<K;I++){if(J===L[I]){return true}}return false};var F=function(I){var J=r();return p(I,J)};var b=["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827","565074965442390546245"];var c=F(b);var e=function(I){if(!c){return I}var J=I.replace(/^roistat[_-]/,"");return o+"_"+J};var H,A,s;H=m.roistatGetCookie=function(I){var J=e(I);var K=w.cookie.match(new RegExp("(?:^|; )"+J.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return K?v(K[1]):h};s=function(I,P,Q){var N=e(I);Q=Q||{};var L=Q.expires;if(typeof L=="number"&&L){var O=new Date();O.setTime(O.getTime()+L*1000);L=Q.expires=O}if(L&&L.toUTCString){Q.expires=L.toUTCString()}P=encodeURIComponent(P);var J=N+"="+P;for(var M in Q){J+="; "+M;var K=Q[M];if(K!==true){J+="="+K}}w.cookie=J};A=m.roistatSetCookie=function A(J,N,I){s(J,N,I);var L=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1;if(!L){return}var M;M=H(z);M=typeof M==="string"?M.split(","):[];for(var K in M){if(M[K]===J){return}}M.push(J);s(z,M.join(","),{path:"/"})};if(m.roistatCookieDomain){t.domain=m.roistatCookieDomain;y.domain=m.roistatCookieDomain}var E={isAvailable:function(){var I=false;try{if(!m.localStorage||!m.localStorage.setItem||!m.localStorage.getItem||!m.localStorage.removeItem){return I}m.localStorage.setItem("roistat_testKey","testValue");I=m.localStorage.getItem("roistat_testKey")==="testValue";m.localStorage.removeItem("roistat_testKey")}catch(J){return false}return I},save:function(J,K,I){if(this.isAvailable()){localStorage.setItem(e(J),K)}A(J,K,I)},get:function(J){var I=null;if(this.isAvailable()){I=localStorage.getItem(e(J))}if(I===null){I=H(J)}return I}};var D="32756980";D=parseInt(D)>0?D:0;A(x,D,t);var k=E.get(x);if(k>0&&D!==0&&k!==D){E.save(x,D,t);E.save(l,g,t)}if(!(H(x)>0)){E.save(x,D,t)}if(!(E.get(B)>0)){E.save(B,D,y)}if(!(E.get(l)>0)){E.save(l,g,t)}var f="0";E.save(G,f);var j="0";if(j>0){E.save(n,j)}var i="1";E.save(d,i);var a="0";m.roistatIsInitVisit=!(parseInt(a)>0);m.roistatVisitId=D;m.roistatMetrikaCounterId="344978,48672557";m.roistatInitPage=""})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cD,cM,dT){function a3(d3){if(typeof d3!=="function"){return}var e=false;function d2(){if(!e){e=true;d3();if(typeof cM.removeEventListener==="function"){cM.removeEventListener("DOMContentLoaded",d2)}}}if(cM.readyState==="interactive"||cM.readyState==="complete"){d2()}else{cv(cM,"DOMContentLoaded",d2)}}var db=function(){var e=cD.maCookiePrefix;return typeof e==="string"?e:"roistat"};var O=db();var bu=function(){return cD[O+"Host"]};var aN=false,cY="390",bw=13,dm=42,b2=bu(),bm="0.2",d="1.0",dV="roistat_visit_cookie_expire",aX="roistat_visit",ai="roistat_cookies_to_resave",bU="roistat_guid",P="roistat_next_guid",bW="roistat_first_visit",d0="roistat_is_need_listen_requests",v="roistat_is_save_data_in_cookie",dX="roistat_is_need_disable_collector",bX="roistat_phone",cO="roistat_raw_phone",H="roistat_externalCountersEnabled",ac="roistat_referrer",bg="roistat_marker",dP="roistat_marker_old",bl="roistat_ab",G="roistat_previous_ab",dE="roistat_ab_submit",aq=35*24*60*60,bs="rs",bf="roistat",cs="leadhunter_expire",c4=5*60*60,ci="roistat_leadHunterEnabled",bh="roistat_leadHunterTargetPagesMap",bH="roistat_leadHunterCallbackSettings",by="roistat_leadHunterScriptId",az="roistat_isleadHunterScriptIdActive",bO="roistat_multiwidgetEnabled",o="roistat_multiwidgetVKEnabled",x="roistat_multiwidgetVKLink",V="roistat_multiwidgetFBEnabled",cQ="roistat_multiwidgetFBLink",a9="roistat_multiwidgetTelegramEnabled",dJ="roistat_multiwidgetTelegramLink",ch="roistat_multiwidgetWhatsAppEnabled",aW="roistat_multiwidgetWhatsAppLink",a="roistat_multiwidgetViberEnabled",b1="roistat_multiwidgetViberLink",cT="roistat_multiwidgetSettings",bD="roistat_onlineChatEnabled",aV="roistat_onlineChatSettings",bo=7*24*60*60,M={expires:bo,path:"/"},cB="roistat-promo",dK="roistat-phone",c8="roistat-phone-country",bV="roistat-phone-region",w="roistat-phone-number",a2="roistat-phone-tel",dt="country",dA="region",bC="number",c9="tel",b3="get-phone",ag="roistat_call_tracking",b5="roistat-js-script",b8="roistat_phone_replacement",a0="roistat_phone_script_data",S="roistat-visit-id",f="roistat_metrika_counter_id",a1="roistat_marker_from_referrer",u="roistat_emailtracking_email",cP="roistat_emailtracking_tracking_email",bt="roistat_emailtracking_emails",cE="roistat_geo_data",bA="roistat_promo_code",bi="roistat_links_markup",dz="roistat_proxy_forms",dy="roistat_isMultiDomain",cj=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cf="roistat_debug",dh="roistat_settings_saved",am="nocookie",ce=["yandex.ru"],dY="beta_test",r="roistat_settings_version",c3="roistat-leadhunter-form-template",bB="roistat-leadhunter-pulsator-template",ca="roistat-leadhunter-pulsator-settings",m="roistat-online-chat-pulsator-template",bd="roistat-online-chat-iframe-template",g="roistat-multiwidget-pulsator-template",I="roistat-multiwidget-pulsator-settings",cd="roistat_last_settings_update_time",dL="roistat_authorized_client",cL="roistat_params",b9=50,ae="mobile",aw="tablet",aT="desktop",dS=500,aa=1024;
var aZ="ru",de="en",aQ={ru:["Русский","Russian"],en:["Английский","English"]},dn,a4;var J={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var K={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var ds={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cD.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cD.roistatAlreadyStarted=true;if(cD.roistatCookieDomain){M.domain=cD.roistatCookieDomain}var cA=function(){return new Date().getTime()};var bP=function(d2){if(!aN||typeof console==="undefined"||typeof console.log!=="function"){return}var d3=cA()-cy;var e="["+(d3/1000)+"s] "+d2;t=t+"; "+e;console.log(e)};var k=function(e){var d3=e.split(".");var d2=d3.length;if(d2<2){return e}return d3[d2-2]+"."+d3[d2-1]};var at=function(){var d2=cD.screen||null;var e=cD.navigator||null;return{screenWidth:d2!==null?(d2.width||null):null,screenHeight:d2!==null?(d2.height||null):null,screenIsExtended:d2!==null?(d2.isExtended||null):null,screenPixelDepth:d2!==null?(d2.pixelDepth||null):null,screenColorDepth:d2!==null?(d2.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var aE="cllctr."+k(b2);cD.roistat={version:cY,getSource:function(){return K.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){K.visitFromUser=e},registerOnVisitProcessedCallback:function(e){ak(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){c0(e)},disableCallTracking:function(){J.callTrackingEnabled=false},setCallTrackingManualMode:function(){J.callTrackingManual=true},setJSONPRequestTimeout:function(e){J.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){bP("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},linksMarkup:{ozonId:null,wildberriesId:null},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,d2){if(!K.isAbTestsApplied&&typeof d2==="function"){ds.onAbTestsApplied[e]=d2}},authClientById:function(e){y(e,dT)},authClientByEmail:function(e){y(dT,e)},sendDeviceFingerprint:function(){bP("Send device fingerprint start");var e=di();var d3=at();var d6="";for(var d5 in d3){if(!d3.hasOwnProperty(d5)){continue}var d4=d3[d5];if(d4!==null){d6+="&"+d5+"="+encodeURIComponent(d4)}}var d2=bS()+"/device/info/register?visit="+e+d6;c6(d2);bP("Send device fingerprint completed")},setDeviceParams:function(){if(!K.isVisitProcessed){bP("Visit is not processed, return");return}var e=di();if(e<=0){bP("Invalid arguments, return");return}var d3=at();var d2=bS()+"/update-visit-by-device-params?visit="+e+"&v="+cY;for(var d5 in d3){if(!d3.hasOwnProperty(d5)){continue}var d4=d3[d5];if(d4===null){continue}d2+="&"+d5+"="+encodeURIComponent(d4)}c6(d2)},setRoistatParams:function(d8,d7,d5,d4,d3){var d9=d8!==null&&q(d8)?d8:{roistat_param1:d8,roistat_param2:d7,roistat_param3:d5,roistat_param4:d4,roistat_param5:d3};if(!K.isVisitProcessed){bP("Visit is not processed, return");return}var d6=di();if(d6<=0){bP("Invalid arguments, return");return}var ea=dB(d9);if(!A(ea)){bP("Has no valid roistat params for visit update, return");return}N(ea);var e=bS()+"/update-visit-by-params?visit="+d6+"&v="+cY;for(var d2 in ea){if(!Object.prototype.hasOwnProperty.call(ea,d2)){continue}e+="&"+d2+"="+encodeURIComponent(ea[d2])}c6(e)}};var dB=function(d4){var e={};for(var d3=1;d3<=b9;d3++){var d2="roistat_param"+d3;if(!Object.prototype.hasOwnProperty.call(d4,d2)){continue}var d5=d4[d2];if(d5!==dT&&d5!==null&&d5.toString().length>0){e[d2]=d5
}}return e};var N=function(d3){var d5=cL;var d2=aU.get(d5);var e=JSON.stringify(d3);var d4=d2===e;if(e!=null&&e.length>0){c1(d3)}if(d4){bP("Params already updated, return");return}aU.set(d5,e)};var c1=function(d2){for(var e=1;e<=b9;e++){var d3="roistat_param"+e;if(d2.hasOwnProperty(d3)){cD.roistat.page.params[d3]=d2[d3]}}};var y=function(e,d4){if(!K.isVisitProcessed){bP("Visit is not processed, return");return}var d5=e!==dT&&e.length>0,d8=d4!==dT&&d4.length>0;if(!d5&&!d8){bP("Invalid client params, return");return}var d6=di();if(d6<=0){bP("Invalid arguments, return");return}var d7=dL,d9=aU.get(d7),d3=d5?e:d4;if(d9===d3){bP('Client "'+d3+'" is already authorized, return');return}bP("Auth client: "+d3);aU.set(d7,d3);var d2=bS()+"/update-visit-by-client?visit="+d6+"&v="+cY;if(d5){d2+="&client_id="+encodeURIComponent(e)}if(d8){d2+="&client_email="+encodeURIComponent(d4)}c6(d2)};var bZ=function(d4,d2){var d3=d4.length;for(var e=0;e<d3;e++){if(d2===d4[e]){return true}}return false};var b6=function(){return cC(dY)>0};var h=function(){return cD.location.protocol+"//"+cD.location.host+cD.location.pathname};var bG=function(){if(c5()){return ae}if(cq()){return aw}return aT};var c5=function(){return cD.innerWidth<=dS};var cq=function(){return cD.innerWidth>dS&&cD.innerWidth<=aa};var aJ=function(){return c5()||cq()};var dr=function(){return cD[O+"ProjectId"]};var dM=function(){var e=dr().replace(/\D/g,"");bP("getProjectHash: "+e);return e};var af=function(e){var d2=dM();return bZ(e,d2)};var cx=function(e){return JSON.parse(JSON.stringify(e))};var a8=function(){var d2=cx(M),e=parseInt(aU.get(dV));d2.expires=e>0?e:bo;return d2};var ak=function(e){if(!K.isVisitProcessed){ds.onVisitProcessed.push(e)}else{e()}};var dZ=function(){K.isVisitProcessed=true;bP("[Roistat] visit id set. Processing callbacks");var d2=ds.onVisitProcessed.length;for(var e=0;e<d2;e++){ds.onVisitProcessed[e]()}if(cD.roistatVisitCallback!==dT){cD.roistatVisitCallback(cD.roistat.getVisit())}};var c0=function(e){ds.onCallTrackingPhoneReceived.push(e)};var ck=function(){var d2=ds.onCallTrackingPhoneReceived.length;for(var e=0;e<d2;e++){ds.onCallTrackingPhoneReceived[e]()}};var c7=function c7(e){ds.onSPAPageChanged.push(e)};var cS=function cS(){bP("[Roistat] SPA page changed. Processing callbacks");var d2=ds.onSPAPageChanged.length;for(var e=0;e<d2;e++){ds.onSPAPageChanged[e]()}};var dx=function(d5,d4){var d3=d5.className.split(" "),d2=false,e;for(var e=0;e<d3.length;e++){if(d3[e]===d4){d2=true;break}}if(!d2){d3.push(d4);d5.className=d3.join(" ")}};var dF=function(d4,d3){var d2=d4.className.split(" "),e;for(var e=0;e<d2.length;e++){if(d2[e]===d3){d2.splice(e,1);d4.className=d2.join(" ");break}}};var bL=function(d3){try{return decodeURIComponent(d3)}catch(d4){var d2;d2=aI(d3);if(d2===null){return d3}return d2}};var D={visitor_uid:function(){bP("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!q(cD.AMOPIXEL_IDENTIFIER)||!aK(cD.AMOPIXEL_IDENTIFIER.getVisitorUid)){bP("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!cH(e)){bP("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return cp("yclid",false)},roistat_gclid:function(){return cp("gclid",false)},roistat_rb_clickid:function(){return cp("rb_clickid",false)}};var cb=function(){for(var d2 in D){var e=D[d2]();if(e===null){continue}aY(d2,e,M)}};var b4=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(bb(D))};var aI=function(d6){var d5={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var d3="";var d4=0;while(d4<d6.length){var d2=d6.substring(d4,d4+3);if(Object.prototype.hasOwnProperty.call(d5,d2)){d3+=d5[d2];d4+=3}else{d3+=d6.substring(d4,d4+1);d4++}}try{return decodeURIComponent(d3)}catch(d7){return null}};var bM=function(){if(typeof cD.roistatInitPage!=="string"||cD.roistatInitPage===""||cD.roistatInitPage==="{ROISTAT_INIT_PAGE}"){return cM.location.href}return cD.roistatInitPage};cD.roistatVersion=cY;var dR,al=af([]),p=af(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827","565074965442390546245"]),co=af(["756305455392462179","5920396192098309402868"]),b=af(["3640376563070976595","5920396192098309402868"]),aL,ar=true,l=decodeURIComponent(bM()),t="",cm="",cy=new Date().getTime(),dq=false,c=cD.roistatPhonePrefix?cD.roistatPhonePrefix:"",aF=cD.roistatPhonePrefixBind?cD.roistatPhonePrefixBind:"",ct=cD.roistatCalltrackingScripts&&cD.roistatCalltrackingScripts.join?cD.roistatCalltrackingScripts.join(","):"";
var i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var dg=function(e){if(!p){return e}var d2=e.replace(/^roistat[_-]/,"");return O+"_"+d2};var cC,aY,b0,dN;cC=cD.roistatGetCookie=function(e){var d2=dg(e);var d3=cM.cookie.match(new RegExp("(?:^|; )"+d2.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return d3?bL(d3[1]):dT};b0=function(e,d8,d9){var d6=dg(e);d9=d9||{};var d4=d9.expires;if(typeof d4=="number"&&d4){var d7=new Date();d7.setTime(d7.getTime()+d4*1000);d4=d9.expires=d7}if(d4&&d4.toUTCString){d9.expires=d4.toUTCString()}d8=encodeURIComponent(d8);var d2=d6+"="+d8;for(var d5 in d9){d2+="; "+d5;var d3=d9[d5];if(d3!==true){d2+="="+d3}}cM.cookie=d2};aY=cD.roistatSetCookie=function aY(d2,d5,e){b0(d2,d5,e);var d4;d4=cC(ai);d4=cH(d4)?d4.split(","):[];for(var d3 in d4){if(d4[d3]===d2){return}}d4.push(d2);b0(ai,d4.join(","),{path:"/"})};dN=function dN(d2,e){var d3=cx(e);d3.expires=new Date(0).toUTCString();b0(d2,"",d3)};var aO=function(d2,d4,d3){var e=d2[d4];d2[d4]=function(){if(e){e.apply(this,arguments)}d3.apply(this,arguments)}};var cv=function(d3,d2,d4){if(d3.addEventListener){d3.addEventListener(d2,d4,false);return}var e="on"+d2;if(d3.attachEvent){d3.attachEvent(e,d4);return}if(e in d3){aO(d3,e,d4);return}if(d2 in d3){aO(d3,d2,d4);return}bP("Handler could not be attached")};var d1=function(d4,d3){var d2=d4.length;for(var e=0;e<d2;e++){d3(d4[e])}};var bb=function(e){var d2=[];c2(e,function(d3,d4){d2.push(d3)});return d2};var c2=function(e,d3){for(var d2 in e){if(Object.prototype.hasOwnProperty.call(e,d2)){d3(d2,e[d2])}}};var z=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var A=function(d2){if(typeof d2!=="object"){return false}for(var e in d2){if(d2.hasOwnProperty(e)){return true}}return false};var a6=function(d3){try{var d2=JSON.parse(d3);if(d2&&typeof d2==="object"){return d2}}catch(d4){}return null};if(cM.getElementsByClassName==dT){cM.getElementsByClassName=function(d2){var e=[];var d6=new RegExp("\\b"+d2+"\\b");var d5=this.getElementsByTagName("*");for(var d4=0;d4<d5.length;d4++){var d3=d5[d4].className;if(d6.test(d3)){e.push(d5[d4])}}return e}}var be=function(){return String.fromCharCode};var cV=function(d3){var e="";for(var d2=0;d2<d3.length;++d2){e+=be()(dm^d3.charCodeAt(d2))}return e};var dH=function(e){return encodeURIComponent(cV(ba.encode(e)))};var ba={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d3){var e="";var ea,d8,d6,d9,d7,d5,d4;var d2=0;d3=ba._utf8_encode(d3);while(d2<d3.length){ea=d3.charCodeAt(d2++);d8=d3.charCodeAt(d2++);d6=d3.charCodeAt(d2++);d9=ea>>2;d7=((ea&3)<<4)|(d8>>4);d5=((d8&15)<<2)|(d6>>6);d4=d6&63;if(isNaN(d8)){d5=d4=64}else{if(isNaN(d6)){d4=64}}e=e+this._keyStr.charAt(d9)+this._keyStr.charAt(d7)+this._keyStr.charAt(d5)+this._keyStr.charAt(d4)}return e},decode:function(d3){var e="";var ea,d8,d6;var d9,d7,d5,d4;var d2=0;d3=d3.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d2<d3.length){d9=this._keyStr.indexOf(d3.charAt(d2++));d7=this._keyStr.indexOf(d3.charAt(d2++));d5=this._keyStr.indexOf(d3.charAt(d2++));d4=this._keyStr.indexOf(d3.charAt(d2++));ea=(d9<<2)|(d7>>4);d8=((d7&15)<<4)|(d5>>2);d6=((d5&3)<<6)|d4;e=e+String.fromCharCode(ea);if(d5!=64){e=e+String.fromCharCode(d8)}if(d4!=64){e=e+String.fromCharCode(d6)}}e=ba._utf8_decode(e);return e},_utf8_encode:function(d2){d2=d2.replace(/\r\n/g,"\n");var e="";for(var d4=0;d4<d2.length;d4++){var d3=d2.charCodeAt(d4);if(d3<128){e+=String.fromCharCode(d3)}else{if((d3>127)&&(d3<2048)){e+=String.fromCharCode((d3>>6)|192);e+=String.fromCharCode((d3&63)|128)}else{e+=String.fromCharCode((d3>>12)|224);e+=String.fromCharCode(((d3>>6)&63)|128);e+=String.fromCharCode((d3&63)|128)}}}return e},_utf8_decode:function(e){var d3="";var d5=0;var d6=0;var d4=0;var d2=0;while(d5<e.length){d6=e.charCodeAt(d5);if(d6<128){d3+=String.fromCharCode(d6);d5++}else{if((d6>191)&&(d6<224)){d4=e.charCodeAt(d5+1);d3+=String.fromCharCode(((d6&31)<<6)|(d4&63));d5+=2}else{d4=e.charCodeAt(d5+1);d2=e.charCodeAt(d5+2);d3+=String.fromCharCode(((d6&15)<<12)|((d4&63)<<6)|(d2&63));d5+=3}}}return d3}};var aB=aB||function(ed,d3){var d5={},d6=d5.lib={},d4=function(){},e=d6.Base={extend:function(ee){d4.prototype=this;var ef=new d4;ee&&ef.mixIn(ee);ef.hasOwnProperty("init")||(ef.init=function(){ef.$super.init.apply(this,arguments)});ef.init.prototype=ef;ef.$super=this;return ef},create:function(){var ee=this.extend();ee.init.apply(ee,arguments);return ee},init:function(){},mixIn:function(ee){for(var ef in ee){ee.hasOwnProperty(ef)&&(this[ef]=ee[ef])}ee.hasOwnProperty("toString")&&(this.toString=ee.toString)},clone:function(){return this.init.prototype.extend(this)}},d2=d6.WordArray=e.extend({init:function(ee,ef){ee=this.words=ee||[];this.sigBytes=ef!=d3?ef:4*ee.length},toString:function(ee){return(ee||ec).stringify(this)},concat:function(ee){var eh=this.words,ef=ee.words,eg=this.sigBytes;ee=ee.sigBytes;this.clamp();if(eg%4){for(var ei=0;ei<ee;ei++){eh[eg+ei>>>2]|=(ef[ei>>>2]>>>24-8*(ei%4)&255)<<24-8*((eg+ei)%4)
}}else{if(65535<ef.length){for(ei=0;ei<ee;ei+=4){eh[eg+ei>>>2]=ef[ei>>>2]}}else{eh.push.apply(eh,ef)}}this.sigBytes+=ee;return this},clamp:function(){var ee=this.words,ef=this.sigBytes;ee[ef>>>2]&=4294967295<<32-8*(ef%4);ee.length=ed.ceil(ef/4)},clone:function(){var ee=e.clone.call(this);ee.words=this.words.slice(0);return ee},random:function(ee){for(var eg=[],ef=0;ef<ee;ef+=4){eg.push(4294967296*ed.random()|0)}return new d2.init(eg,ee)}}),ea=d5.enc={},ec=ea.Hex={stringify:function(ee){var ef=ee.words;ee=ee.sigBytes;for(var ei=[],eh=0;eh<ee;eh++){var eg=ef[eh>>>2]>>>24-8*(eh%4)&255;ei.push((eg>>>4).toString(16));ei.push((eg&15).toString(16))}return ei.join("")},parse:function(ee){for(var ef=ee.length,eh=[],eg=0;eg<ef;eg+=2){eh[eg>>>3]|=parseInt(ee.substr(eg,2),16)<<24-4*(eg%8)}return new d2.init(eh,ef/2)}},d9=ea.Latin1={stringify:function(ee){var ef=ee.words;ee=ee.sigBytes;for(var eh=[],eg=0;eg<ee;eg++){eh.push(String.fromCharCode(ef[eg>>>2]>>>24-8*(eg%4)&255))}return eh.join("")},parse:function(ee){for(var ef=ee.length,eh=[],eg=0;eg<ef;eg++){eh[eg>>>2]|=(ee.charCodeAt(eg)&255)<<24-8*(eg%4)}return new d2.init(eh,ef)}},eb=ea.Utf8={stringify:function(ee){try{return decodeURIComponent(escape(d9.stringify(ee)))}catch(ef){throw Error("Malformed UTF-8 data")}},parse:function(ee){return d9.parse(unescape(encodeURIComponent(ee)))}},d8=d6.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new d2.init;this._nDataBytes=0},_append:function(ee){"string"==typeof ee&&(ee=eb.parse(ee));this._data.concat(ee);this._nDataBytes+=ee.sigBytes},_process:function(ef){var eh=this._data,ek=eh.words,ej=eh.sigBytes,ei=this.blockSize,ee=ej/(4*ei),ee=ef?ed.ceil(ee):ed.max((ee|0)-this._minBufferSize,0);ef=ee*ei;ej=ed.min(4*ef,ej);if(ef){for(var eg=0;eg<ef;eg+=ei){this._doProcessBlock(ek,eg)}eg=ek.splice(0,ef);eh.sigBytes-=ej}return new d2.init(eg,ej)},clone:function(){var ee=e.clone.call(this);ee._data=this._data.clone();return ee},_minBufferSize:0});d6.Hasher=d8.extend({cfg:e.extend(),init:function(ee){this.cfg=this.cfg.extend(ee);this.reset()},reset:function(){d8.reset.call(this);this._doReset()},update:function(ee){this._append(ee);this._process();return this},finalize:function(ee){ee&&this._append(ee);return this._doFinalize()},blockSize:16,_createHelper:function(ee){return function(ef,eg){return(new ee.init(eg)).finalize(ef)}},_createHmacHelper:function(ee){return function(ef,eg){return(new d7.HMAC.init(ee,eg)).finalize(ef)}}});var d7=d5.algo={};return d5}(Math);(function(eb){function d3(ef,eg,ed,ei,ee,eh,ec){ef=ef+(eg&ed|~eg&ei)+ee+ec;return(ef<<eh|ef>>>32-eh)+eg}function d5(ef,eg,ed,ei,ee,eh,ec){ef=ef+(eg&ei|ed&~ei)+ee+ec;return(ef<<eh|ef>>>32-eh)+eg}function d6(ef,eg,ed,ei,ee,eh,ec){ef=ef+(eg^ed^ei)+ee+ec;return(ef<<eh|ef>>>32-eh)+eg}function d4(ef,eg,ed,ei,ee,eh,ec){ef=ef+(ed^(eg|~ei))+ee+ec;return(ef<<eh|ef>>>32-eh)+eg}for(var e=aB,d2=e.lib,d8=d2.WordArray,ea=d2.Hasher,d2=e.algo,d7=[],d9=0;64>d9;d9++){d7[d9]=4294967296*eb.abs(eb.sin(d9+1))|0}d2=d2.MD5=ea.extend({_doReset:function(){this._hash=new d8.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(et,eq){for(var ey=0;16>ey;ey++){var es=eq+ey,ef=et[es];et[es]=(ef<<8|ef>>>24)&16711935|(ef<<24|ef>>>8)&4278255360}var ey=this._hash.words,es=et[eq+0],ef=et[eq+1],er=et[eq+2],eo=et[eq+3],em=et[eq+4],ek=et[eq+5],ei=et[eq+6],eh=et[eq+7],eg=et[eq+8],ee=et[eq+9],ed=et[eq+10],ec=et[eq+11],ep=et[eq+12],en=et[eq+13],el=et[eq+14],ej=et[eq+15],ex=ey[0],ew=ey[1],ev=ey[2],eu=ey[3],ex=d3(ex,ew,ev,eu,es,7,d7[0]),eu=d3(eu,ex,ew,ev,ef,12,d7[1]),ev=d3(ev,eu,ex,ew,er,17,d7[2]),ew=d3(ew,ev,eu,ex,eo,22,d7[3]),ex=d3(ex,ew,ev,eu,em,7,d7[4]),eu=d3(eu,ex,ew,ev,ek,12,d7[5]),ev=d3(ev,eu,ex,ew,ei,17,d7[6]),ew=d3(ew,ev,eu,ex,eh,22,d7[7]),ex=d3(ex,ew,ev,eu,eg,7,d7[8]),eu=d3(eu,ex,ew,ev,ee,12,d7[9]),ev=d3(ev,eu,ex,ew,ed,17,d7[10]),ew=d3(ew,ev,eu,ex,ec,22,d7[11]),ex=d3(ex,ew,ev,eu,ep,7,d7[12]),eu=d3(eu,ex,ew,ev,en,12,d7[13]),ev=d3(ev,eu,ex,ew,el,17,d7[14]),ew=d3(ew,ev,eu,ex,ej,22,d7[15]),ex=d5(ex,ew,ev,eu,ef,5,d7[16]),eu=d5(eu,ex,ew,ev,ei,9,d7[17]),ev=d5(ev,eu,ex,ew,ec,14,d7[18]),ew=d5(ew,ev,eu,ex,es,20,d7[19]),ex=d5(ex,ew,ev,eu,ek,5,d7[20]),eu=d5(eu,ex,ew,ev,ed,9,d7[21]),ev=d5(ev,eu,ex,ew,ej,14,d7[22]),ew=d5(ew,ev,eu,ex,em,20,d7[23]),ex=d5(ex,ew,ev,eu,ee,5,d7[24]),eu=d5(eu,ex,ew,ev,el,9,d7[25]),ev=d5(ev,eu,ex,ew,eo,14,d7[26]),ew=d5(ew,ev,eu,ex,eg,20,d7[27]),ex=d5(ex,ew,ev,eu,en,5,d7[28]),eu=d5(eu,ex,ew,ev,er,9,d7[29]),ev=d5(ev,eu,ex,ew,eh,14,d7[30]),ew=d5(ew,ev,eu,ex,ep,20,d7[31]),ex=d6(ex,ew,ev,eu,ek,4,d7[32]),eu=d6(eu,ex,ew,ev,eg,11,d7[33]),ev=d6(ev,eu,ex,ew,ec,16,d7[34]),ew=d6(ew,ev,eu,ex,el,23,d7[35]),ex=d6(ex,ew,ev,eu,ef,4,d7[36]),eu=d6(eu,ex,ew,ev,em,11,d7[37]),ev=d6(ev,eu,ex,ew,eh,16,d7[38]),ew=d6(ew,ev,eu,ex,ed,23,d7[39]),ex=d6(ex,ew,ev,eu,en,4,d7[40]),eu=d6(eu,ex,ew,ev,es,11,d7[41]),ev=d6(ev,eu,ex,ew,eo,16,d7[42]),ew=d6(ew,ev,eu,ex,ei,23,d7[43]),ex=d6(ex,ew,ev,eu,ee,4,d7[44]),eu=d6(eu,ex,ew,ev,ep,11,d7[45]),ev=d6(ev,eu,ex,ew,ej,16,d7[46]),ew=d6(ew,ev,eu,ex,er,23,d7[47]),ex=d4(ex,ew,ev,eu,es,6,d7[48]),eu=d4(eu,ex,ew,ev,eh,10,d7[49]),ev=d4(ev,eu,ex,ew,el,15,d7[50]),ew=d4(ew,ev,eu,ex,ek,21,d7[51]),ex=d4(ex,ew,ev,eu,ep,6,d7[52]),eu=d4(eu,ex,ew,ev,eo,10,d7[53]),ev=d4(ev,eu,ex,ew,ed,15,d7[54]),ew=d4(ew,ev,eu,ex,ef,21,d7[55]),ex=d4(ex,ew,ev,eu,eg,6,d7[56]),eu=d4(eu,ex,ew,ev,ej,10,d7[57]),ev=d4(ev,eu,ex,ew,ei,15,d7[58]),ew=d4(ew,ev,eu,ex,en,21,d7[59]),ex=d4(ex,ew,ev,eu,em,6,d7[60]),eu=d4(eu,ex,ew,ev,ec,10,d7[61]),ev=d4(ev,eu,ex,ew,er,15,d7[62]),ew=d4(ew,ev,eu,ex,ee,21,d7[63]);
ey[0]=ey[0]+ex|0;ey[1]=ey[1]+ew|0;ey[2]=ey[2]+ev|0;ey[3]=ey[3]+eu|0},_doFinalize:function(){var ee=this._data,ef=ee.words,ec=8*this._nDataBytes,eg=8*ee.sigBytes;ef[eg>>>5]|=128<<24-eg%32;var ed=eb.floor(ec/4294967296);ef[(eg+64>>>9<<4)+15]=(ed<<8|ed>>>24)&16711935|(ed<<24|ed>>>8)&4278255360;ef[(eg+64>>>9<<4)+14]=(ec<<8|ec>>>24)&16711935|(ec<<24|ec>>>8)&4278255360;ee.sigBytes=4*(ef.length+1);this._process();ee=this._hash;ef=ee.words;for(ec=0;4>ec;ec++){eg=ef[ec],ef[ec]=(eg<<8|eg>>>24)&16711935|(eg<<24|eg>>>8)&4278255360}return ee},clone:function(){var ec=ea.clone.call(this);ec._hash=this._hash.clone();return ec}});e.MD5=ea._createHelper(d2);e.HmacMD5=ea._createHmacHelper(d2)})(Math);var ad=function(){return cM[be()(99,111,111,107,105,101)]};var s=function(){dv();var e={c:ap()};return dH(JSON.stringify(e))};var ay=function(){var e=di();return(e===dT||e===null)?am:e};var ap=function(){var e=[];for(var d2 in K.cookies){if(!Object.prototype.hasOwnProperty.call(K.cookies,d2)){continue}e.push(d2+"="+K.cookies[d2])}return e.join("; ")};var dv=function(){var e=bk();for(var d2 in e){if(!Object.prototype.hasOwnProperty.call(e,d2)){continue}K.cookies[d2]=e[d2]}};var aR=function(e){aY(bg,e,a8());K.source.marker=e};var br=function(){return cC(bg)};var a5=function(){c2(cD.roistat.page.params,function(d2,e){K.pageParams[d2]=e})};var bk=function(){var d4=ad();var d5=d4.split("; ");var e={};for(var d3=0;d3<d5.length;d3++){var d8=d5[d3];if(d8===""){continue}var d2=d8.split("=");if(d2.length<2){continue}var d7=d2[0].trim();var d6=d2[1].trim();e[d7]=d6}return e};var dd=function(){return be()(104,97,115,104)};var aS=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var du={isAvailable:function(){var d2=false;try{if(!cD.sessionStorage||!cD.sessionStorage.setItem||!cD.sessionStorage.getItem||!cD.sessionStorage.removeItem){return d2}cD.sessionStorage.setItem("roistat_testKey","testValue");d2=cD.sessionStorage.getItem("roistat_testKey")==="testValue";cD.sessionStorage.removeItem("roistat_testKey")}catch(d3){return false}return d2},remove:function(e){if(this.isAvailable()){cD.sessionStorage.removeItem(dg(e))}},setObject:function(e,d2){if(this.isAvailable()){cD.sessionStorage.setItem(dg(e),JSON.stringify(d2))}},getObject:function(d2){var e=null;if(this.isAvailable()){e=cD.sessionStorage.getItem(dg(d2));e=JSON.parse(e)}return e},set:function(e,d2){if(this.isAvailable()){cD.sessionStorage.setItem(dg(e),d2)}},get:function(d2){var e=null;if(this.isAvailable()){e=cD.sessionStorage.getItem(dg(d2))}return e}};var aU={fallbackData:{},isAvailable:function(){var d2=false;try{if(!cD.localStorage||!cD.localStorage.setItem||!cD.localStorage.getItem||!cD.localStorage.removeItem){return d2}cD.localStorage.setItem("roistat_testKey","testValue");d2=cD.localStorage.getItem("roistat_testKey")==="testValue";cD.localStorage.removeItem("roistat_testKey")}catch(d3){return false}return d2},remove:function(d2){if(this.isAvailable()){cD.localStorage.removeItem(dg(d2))}else{var e=new Date(1970,1,1);aY(d2,"",{expires:e.toUTCString()})}delete this.fallbackData[dg(d2)]},setObject:function(e,d2){if(this.isAvailable()){localStorage.setItem(dg(e),JSON.stringify(d2))}this.fallbackData[dg(e)]=d2},getObject:function(d3){var e=null;if(this.isAvailable()){e=localStorage.getItem(dg(d3));e=a6(e)}if(e===null){var d2=this.fallbackData[dg(d3)];if(typeof d2!=="undefined"){e=d2}}return e},set:function(e,d2){if(this.isAvailable()){localStorage.setItem(dg(e),d2)}else{if(this.isSaveInCookieEnabled()){aY(e,d2,M)}}this.fallbackData[dg(e)]=d2},save:function(d2,d3,e){if(this.isAvailable()){localStorage.setItem(dg(d2),d3)}aY(d2,d3,e);this.fallbackData[dg(d2)]=d3},get:function(d2){var e=null;if(this.isAvailable()){e=localStorage.getItem(dg(d2))}if(e===null){e=cC(d2)}if(typeof e==="undefined"){e=this.fallbackData[dg(d2)]}return e},isSaveInCookieEnabled:function(){return this.get(v)>0},isExternalCountersEnabled:function(){return this.get(H)>0}};var cZ=function(){return !ah(cM.referrer)?cM.referrer:null};var aK=function(e){return typeof e==="function"};var q=function(e){return typeof e==="object"};var cH=function(e){return typeof e==="string"};var cp=function(d4,d3){d3=typeof d3!=="undefined"?d3:false;var d5=function(d8){var d9=new RegExp("[#&?]"+d4+"=([^#&?]+)");var d7=d9.exec(d8);if(z(d7)&&typeof d7[1]==="string"&&d7[1].length>0){var d6=bL(d7[1]);return typeof d6==="string"&&d6.length>0?d6:d7[1]}return null};var e=d5(l);if(d3){var d2=cM.referrer;if(e===null&&d2){e=d5(d2)}}return e};var bN=function(d2,d3){var e=false;if(d2&&d3){e=d2.split(d3).join("")!==d2}return e};if(cp(cf)==="1"||bk()[cf]==="1"){aN=true}var Z=function(){return true};var aH=function(){return Z()?cD.roistatMultiWidgetOnly:cD.roistatOnlineChatOnly};var cI=function(){var d2=dr()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||dr()==="4";var e=(cD.location.host==="cloud.roistat.com"||cD.location.host==="cloud-eu.roistat.com")&&cD.location.pathname!=="/user/login"&&cD.location.pathname!=="/user/register";
if(d2&&!e){bP("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var cJ=function(){if("https:"===cM.location.protocol){return"https:"}else{return"http:"}};var bQ=function(d2){var e=cM.createElement("img");e.src=d2;bP("sendRequestByUrl: "+d2)};var c6=function(d2,d4){bP("sendApiRequestJSONP: init with url "+d2);var e=cM.createElement("script");e.onload=e.onreadystatechange=function(){var d5=this.readyState?this.readyState:"unknown";bP("sendApiRequestJSONP: script state changed to "+d5)};e.src=d2;if(d4){e.setAttribute("data-roistat-script-id",d4)}e.type="text/javascript";e.async=true;var d3=cM.getElementsByTagName("script")[0];d3.parentNode.insertBefore(e,d3);bP("sendApiRequestJSONP: script appended")};var bR=function(){if(K.isCssLoaded){return}(function(){var d2=cM.createElement("link"),e=cM.getElementsByTagName("head");d2.setAttribute("rel","stylesheet");d2.setAttribute("href",cJ()+"//"+b2+"/dist/module.css?"+cY);if(e.length>0){K.isCssLoaded=true;e[0].appendChild(d2)}})()};var n=function(){return au()||E()};var au=function(){return dG()!==null};var E=function(){return cK()!==null};var dk=function(){var e=L();if(e!==null){aY(aX,e,a8())}};var L=function(){return dG()||cK()||null};var dG=function(){return cp("roistat_visit")};var cK=function(){return K.visitFromUser};var cu=function(d2,e){if(!e&&(K.isSettingsUpdating||!cM.hasFocus())){bP("Already updating settings or document not in focus, return");return}var d3=bS()+"/get-settings?v="+cY+"&visit="+d2;bP("Request new settings");K.isSettingsUpdating=true;c6(d3)};var dl=function(){return aU.get(dh)>0};var dj=function(){aU.set(dh,1)};var aC=function(){aU.remove(c3);aU.remove(bB);aU.remove(ca);aU.remove(m);aU.remove(bd);aU.remove(bD);aU.remove(g);aU.remove(I)};var dc=function(){var d5=function(){return aU.get(r)};var d4=function(){aU.set(r,bw)};var d2=function(){return typeof d5()==="string"};var e=function(){var d6=Number(d5())>bw;bP("Settings Version: settings version change status - "+d6);return d6};var d3=function(){var d6=1000*60*60*24;var d9=cN();var d8=cA()-d9;var d7=d8>d6;bP("Settings Version:: expiration day check: lastUpdateTime="+d9+", _lastUpdateTimeDiff="+d8+", _oneDayDiffInMs="+d6+", result="+(d7?1:0));return d7};if(!d2()){bP("Settings Version: set settings version up to 1");d4()}if(d3()||e()){bP("Settings Version: clear settings");aC()}};var bE=function(){bP("Call: Init");bP("Counter version: "+cY);if(cp("roistat_ab_demo")==="1"){bP("Roistat initialisation rejected: ab test preview mode");return}aA();dC();if((!bv()||cw())&&!aH()){dq=true;dW()}else{dc();dk();var e=di();aG();X();ax();roistat.visit=e;K.source.marker=br();cD.roistat.geo=aU.getObject(cE);var d2=aU.isAvailable()&&dl();if(!d2){cu(e)}else{dZ()}}ak(b7);ak(aM)};var b7=function(){bP("InitExternalCounter");if(!aU.isExternalCountersEnabled()){bP("ExternalCounters is not available, return");return}var d3=dr();var d2=bT();var d6=d2?d2:di();var d5=d3+":"+d6;var e=d3+":"+aB.MD5(dO(cM.domain)).toString();var d4=function(d9,d7){var d8=(cM.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+d7+"&event_type=view&user_id="+d9;var ea=new XMLHttpRequest;ea.open("GET",d8,true);ea.withCredentials=true;ea.onload=function(){if(ea.readyState===4){if(ea.status!==204){console.error(ea.statusText)}}};ea.onerror=function(){console.error(ea.statusText)};ea.send(null)};d4(d5,e);bP("InitExternalCounter: script appended")};var T=function(d3){if(!d3.isEnabled){return true}var e=new Date();var ea=new Date().toISOString();var d7=e.getUTCDay()===0?7:e.getDay();var d8=d7===6||d7===7;var d9=false;for(var d5=0;d5<d3.days.length;d5++){if(d7===d3.days[d5]){d9=true}}if(!d9){return false}if(d8&&d3.weekendsTime!==null){var eb=new Date(d3.weekendsTime.from).toISOString();var d4=new Date(d3.weekendsTime.to).toISOString();return ea>=eb&&ea<=d4}var d6=new Date(d3.weekdaysTime.from).toISOString();var d2=new Date(d3.weekdaysTime.to).toISOString();return ea>=d6&&ea<=d2};var aA=function(){bP("Call: initMarker");dR=cn();bP("Call: inited marker: "+dR)};var dC=function(){bP("Call: initReferrer");aL=cZ();bP("Call: end initReferrer: "+aL)};var aM=function(){bP("Call: parsing roistat params from url");var d4={};for(var d3=1;d3<=b9;d3++){var d2="roistat_param"+d3;d4[d2]=cp(d2,false)}var e=dB(d4);if(A(e)&&Object.keys(e).length>0){N(e)}bP("Call: end parsing roistat params from url")};var ah=function(d3){if(!d3){return true}var e=dO(d3);var d2=dO(cM.domain);if(e===d2){return true}var d4=bK();if(d4===null){return false}if(bN(e,d4)&&bN(d2,d4)){return true}return false};var bK=function(){if(typeof M.domain==="string"&&M.domain!==""){return dO(M.domain)}return null};var dO=function(e){var d2=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return d2.split("/")[0]};var cn=function(){var d3=cC(a1)>0;var d8=null;var e=function(d9){return d9.split("_").join(":u:")};var d4=function(){var d9=false;var ea;ea=cp(bf,d3);if(ea!==null){d8=ea;
d9=true}ea=cp(bs,d3);if(ea!==null){d8=ea;d9=true}return d9};var d7=function(){var d9=false;var ea=br();if(ea){d8=ea;d9=true;ar=false}return d9};var d2=function(){var d9=false;var eb=cp("utm_source",d3);if(eb!==null){d9=true;d8=":utm:"+e(eb);var ed=["utm_medium","utm_campaign","utm_content","utm_term"];var ea;for(var ec=0;ec<ed.length;ec++){ea=cp(ed[ec],d3);if(ea!==null){d8=d8+"_"+e(ea)}}}return d9};var d6=function(){var eb,ea,d9=false;ea=cp("_openstat",d3);if(!ea){return false}if(d5(ea)){eb=ea}else{eb=encodeURI(ba.decode(ea));if(!d5(eb)){eb=ea}}if(eb){eb=e(eb).split(";").join("_");d8=":openstat:"+eb;d9=true}return d9};var d5=function(d9){return d9.match(/^([^;]*(;[^;]*){3})$/)!==null};if(d4()){bP("Init marker: init from RS param "+d8);return d8}if(d2()){bP("Init marker: init from UTM "+d8);return d8}if(d6()){bP("Init marker: init from OpenStat "+d8);return d8}bP("Init marker: try init from cookie "+d8);d7();return d8};var di=function(){return aU.get(aX)};var bT=function(){return aU.get(bW)};var cW=function(){bP("Call: saveReferrer");aU.set(ac,aL)};var dI=function(){bP("Call: removeReferrer");aU.remove(ac)};var aP=function(){aY(dP,bL(dR),a8())};var ax=function(){bP("Call: refreshPromoCode");if(aH()){bP("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return cC(aX)};bz(e());if(!cD.onload){cD.onload=function(){bz(e())}}setTimeout(function(){bz(e())},50);setTimeout(function(){bz(e())},200);setTimeout(function(){bz(e())},2000);setTimeout(function(){bz(e())},10000)};cD.roistatPromoCodeRefresh=ax;var cg=function(){var e=[];var d2=cM.getElementsByClassName(cB);if(d2&&d2.length){e=d2}return e};var bz=function(e){var d4=cg();bP("setPromoCode: "+e+" in "+d4.length+" elements");for(var d3=0;d3<d4.length;d3++){var d2=d4[d3];d2.innerHTML=e?e:""}};var cU=function(){var d3=cn(),d2=cC(dP),d5=d3!==null,d4=true;var d7=bL(bL(d3)).toLowerCase().split("+").join(" "),d6=bL(bL(d2)).toLowerCase().split("+").join(" ");if(d3&&d2){d4=d7!==d6}var e=d5&&d4;cm="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+d3+":"+d7+" and old "+d2+":"+d6;bP(cm);return e};var bj=function(){var d2=function(ea){return/[\u0400-\u04FF]/.test(ea)};var d9=false,d6=aL,e=aU.get(ac),d8=cD.location.host;if(!d6||!d8){bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+"), skip because one of params is empty");return d9}d8=dO(d8);d6=bL(d6);e=bL(e);var d4=dO(d6);if(bN(d6,"xn--")&&d2(d8)){bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+"), skip because of bugs with punycode in FF");return d9}if(!d4){bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+"), skip because current referrer is null");return d9}if(!e){d9=!bN(d4,d8);bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+"), compare current referrer and host");return d9}if(bN(d6,e)){bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+"), skip because the same referrer");return d9}var d7=d8.split(".").length>2&&d4.split(".").length>2;var d5=cD.roistatCookieDomain!==dT&&cD.roistatCookieDomain!==d8;var d3=d4.split(".").slice(1).join(".")===d8.split(".").slice(1).join(".");if(d7&&d5&&d3){bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+"), skip because sub domains of same domain");return d9}d9=!(bN(d4,d8)||(bN(d8,d4)));bP("Call: needOverrideByReferrer (result "+(d9?"true":"false")+") referrerHost: "+d4+", currentHost: "+d8);return d9};var cr=function(){return cp("utm_nooverride")==="1"};var cw=function(){return !n()&&!cr()&&(cU()||bj())};var bx=function(d2,e){return(d2&&e&&d2!=e)};var F=function(d4){var d2=["cookieExpire"];var d6=d4.leadHunterEnabled;if(Number(aU.get(ci))!==Number(d4.leadHunterEnabled)){aU.set(ci,Number(d4.leadHunterEnabled))}if(d6){var d5={expires:c4,path:"/"};if(M.domain){d5.domain=M.domain}aY(cs,1,d5)}for(var d3 in d4){if(!Object.prototype.hasOwnProperty.call(d4,d3)){continue}if(!d6&&d3.indexOf("leadHunter")>=0&&d3.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!av(d2,d3)){if(d3.indexOf("leadHunterTargetPagesMap")!==-1){var e=a6(d4[d3]);if(e!==null){aU.setObject("roistat_"+d3,e)}continue}aU.set("roistat_"+d3,d4[d3])}}};var dQ=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(aU.get(bO))!==Number(e.is_enabled)){aU.set(bO,Number(e.is_enabled))}if(Number(aU.get(o))!==Number(e.vk.is_enabled)){aU.set(o,Number(e.vk.is_enabled))}if(aU.get(x)!==roistat.multiwidget.vk.link){aU.set(x,roistat.multiwidget.vk.link)}if(Number(aU.get(V))!==Number(e.fb.is_enabled)){aU.set(V,Number(e.fb.is_enabled))
}if(aU.get(cQ)!==roistat.multiwidget.fb.link){aU.set(cQ,roistat.multiwidget.fb.link)}if(Number(aU.get(a9))!==e.telegram.is_enabled){aU.set(a9,Number(e.telegram.is_enabled))}if(aU.get(dJ)!==roistat.multiwidget.telegram.link){aU.set(dJ,roistat.multiwidget.telegram.link)}if(Number(aU.get(ch))!==e.whats_app.is_enabled){aU.set(ch,Number(e.whats_app.is_enabled))}if(aU.get(aW)!==roistat.multiwidget.whatsApp.link){aU.set(aW,roistat.multiwidget.whatsApp.link)}if(Number(aU.get(a))!==e.viber.is_enabled){aU.set(a,Number(e.viber.is_enabled))}if(aU.get(b1)!==roistat.multiwidget.viber.link){aU.set(b1,roistat.multiwidget.viber.link)}aU.setObject(cT,e)};var ao=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(aU.get(bD))!==Number(e.is_enabled)){aU.set(bD,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;aU.setObject(aV,e.advanced_settings)};var cR=function(e){cD.roistat.geo=e;aU.setObject(cE,e)};var aj=function(e){bP("PromoCode: save settings");aU.setObject(bA,e)};var C=function(e){bP("LinksMarkup: save settings");aU.setObject(bi,e)};var an=function(d4,d3,d8,d6,e,d7,d5,d9,d2){F(d4);roistat.callTracking.enabled=d3.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=d8.email;roistat.emailtracking.trackingEmail=d8.trackingEmail;roistat.emailtracking.emails=d8.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=e;dQ(d7);ao(d5);cR(d6);aj(d9);C(d2)};cD.roistatModuleSetVisitCookie=function(d7,ef,d5,d2,ee,ea,e,eh,d9,eg,d3){bP("Call: roistatModuleSetVisitCookie("+d7+")");var eb;if(typeof d5.cookieExpire!=="number"){eb=a8().expires}else{eb=d5.cookieExpire}var d8=cC(aX);var ed={expires:eb,path:"/"};if(M.domain){ed.domain=M.domain}aU.save(aX,d7,ed);if(!bT()){var d4={expires:10*365*24*60*60,path:"/"};if(M.domain){d4.domain=M.domain}aU.save(bW,d7,d4)}var ec=d5.abTests;if((typeof ec!=="undefined")&&aU.isAvailable()){aU.setObject("abTesting",ec)}applyTests();var d6=d5.isNeedToListenRequests;if((typeof d6!=="undefined")&&aU.isAvailable()){aU.set(d0,d6)}bz(d7);if(ef){aR(ef);aY(dP,ef,ed)}if(cD.roistatCallback!==dT){cD.roistatCallback(d7,ef)}if(!eh){eh={}}an(d5,d2,ee,ea,e,eh.multiwidget_settings,d9,eg,d3);roistat.callTracking.phone=d2.phone;roistat.callTracking.sessionTime=d2.sessionTime;roistat.callTracking.replacementClasses=d2.replacementClasses;roistat.callTracking.phoneScriptsJson=d2.scripts;roistat.callTracking.rawPhone=d2.raw_phone;roistat.visit=d7;bP("Call: pre renderPromoCode");X();ax();if(bx(d8,d7)){bP("roistatModuleSetVisitCookie: visit changed from "+d8+" to "+d7)}ck();dj();dZ()};cD.roistatUpdateSettings=function(e){bP("Set settings.");K.isSettingsUpdating=false;an(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code,e.links_markup);dj();dZ()};var bv=function(){var e;if(cD.roistatIsInitVisit===true){e=false}else{e=aU.get(aX)>0}bP("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var cF=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var cG=function(){return aL?cF(aL):""};var bS=function(){return cJ()+"//"+b2+"/api/site/"+d+"/"+dr()};var bY=function(){var d2={expires:1,path:"/"};var e={expires:aq,path:"/"};if(M.domain){d2.domain=M.domain;e.domain=M.domain}var d3=cC(bl);if(d3){aY(G,d3,e)}aY(bl,"",d2);aY(dE,"",d2)};var cl=function(){var d2=aU.getObject("abTesting");if(!q(d2)){return""}var d4,d3,e=[];for(d4 in d2){if(!Object.prototype.hasOwnProperty.call(d2,d4)){continue}d3=d2[d4];e.push(d3.id+":"+d3.variantId)}return e.join(",")};var dW=function(){bP("Call: setVisitIdCookie");var d2=function(){var ed=cG(),d8=cD.roistatIsInitVisit===true?di():0,eg=cC(bl),eb=cC(bU),d6=bT();eg=eg?eg:"";d6=d6?d6:"";dR=dR&&(!bj()||ar)?bL(bL(dR)):"";var ec=encodeURIComponent(l);bP("Calltracking: enabled="+J.callTrackingEnabled+",manual="+J.callTrackingManual);var ee=JSON.stringify(cD.roistat.page.params);var ea=at();var d5="";for(var d9 in ea){if(!ea.hasOwnProperty(d9)){continue}var ef=ea[d9];if(ef!==null){d5+="&"+d9+"="+encodeURIComponent(ef)}}var d7=bS()+"/addVisit?v="+cY+"&marker="+encodeURIComponent(dR)+"&visit="+d8+"&first_visit="+d6+"&guid="+eb+"&phone_prefix="+c+"&phone_prefix_bind="+aF+"&phone_scripts_bind="+ct+"&referrer="+ed+"&page="+ec+"&ab="+cF(eg)+"&ab_variants="+cF(cl())+"&"+dd()+"="+s()+(ee==="{}"?"":"&page_params="+encodeURIComponent(ee))+((!J.callTrackingEnabled||J.callTrackingManual)?"&call_tracking_disabled=1":"")+d5;return d7};var e=function(d5){setTimeout(function(){bP("Call: setVisitIdCookie script creation after timeout");var d6=cM.createElement("script");d6.onload=function(){bP("Call: setVisitIdCookie script loaded")};d6.src=d5;d6.type="text/javascript";d6.async=true;d6.id=b5;var d7=cM.getElementsByTagName("script")[0];d7.parentNode.insertBefore(d6,d7);bP("Call: setVisitIdCookie appended "+((cM.getElementById(b5))?"true":"false"));bP("Call: sendJSONPRequest to URL "+d5);
bY()},J.jsonpRequestTimeout)};if(dR){aR(dR);aP()}var d4=cC(P);if(d4){aY(bU,d4,M)}cb();var d3=d2();e(d3);aL?cW():dI()};var aG=function(){bP("Call: sendAbTests");var d3=function(){var d7=dr(),d6=cC(aX);return cJ()+"//"+b2+"/site-api/"+bm+"/"+d7+"/visit/"+d6+"/addAbVariant"};var d4=cC(bl);var d2=cC(G);if(d4===d2||!d4){bY();return}var d5=d3();d5=d5+"?ab="+cF(d4);var e=cM.createElement("img");e.src=d5;bY()};var da={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(da.Android()||da.BlackBerry()||da.iOS()||da.Opera()||da.Windows())}};var bq={isIE:function(d3,d5){var d6="IE",d2=cM.createElement("B"),e=cM.documentElement,d4;if(d3){d6+=" "+d3;if(d5){d6=d5+" "+d6}}d2.innerHTML="<!--[if "+d6+']><b id="iecctest"></b><![endif]-->';e.appendChild(d2);d4=!!cM.getElementById("iecctest");e.removeChild(d2);return d4},isSafari:function(){var e=cD.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var cN=function(){return aU.get(cd)};var dp=function(){var e="";cD.onerror=function(d7,d6,d3,d5,d4){var d2=!d5?"":", column: "+d5;d2+=!d4?"":", error: "+d4;e=e+", Error: "+d7+", url: "+d6+", line: "+d3+d2};setTimeout(function(){var d9=false,ea="";var d5=cg();for(var d8=0;d8<d5.length;d8++){var d4=d5[d8];if(d4!==null&&!d4.innerHTML){d9=true;ea="Promo HTML: "+d4.innerHTML}}if(!(cC(aX)>0)){d9=true;ea=ea+"; roistat_visit = "+cC(aX)}if(d9){var d3=cM.getElementById(b5);var d2=d3?1:0;var d6=cD.navigator.userAgent;ea=encodeURIComponent(ea);var d7=cM.createElement("img");d7.src=cJ()+"//"+b2+"/site-api/"+bm+"/"+dr()+"/debug?message="+ea+"&agent="+d6+"&"+dd()+"="+s()+"&jserror="+e+"&scriptResponse="+d2+"&version="+cY+"&debug="+t}},20000)};var cc=function(){var d3=cM.getElementsByTagName("body");var d4=cM.documentElement;var d2=0,d5=0;if(d3.length){var e=d3[0];d2=cD.innerWidth||d4.clientWidth||e.clientWidth;d5=cD.innerHeight||d4.clientHeight||e.clientHeight}else{d2=cD.innerWidth||d4.clientWidth;d5=cD.innerHeight||d4.clientHeight}return{width:d2,height:d5}};var X=function(){var d7=cM.getElementsByClassName("roistat-promo-wrap");if(d7.length){bP("PromoCode: old promo code length - exit");return}if(aH()){bP("PromoCode: Shut down because only online chat need to be inited");return}var d6=aU.getObject(bA);if(d6&&d6.hasOwnProperty("is_enabled")){cD.roistat.promoCode.isEnabled=d6.is_enabled;bP("PromoCode: set is_enabled from storage")}var d4=function(){var ee=cM.createElement("div");ee.innerHTML=roistatPromoCode;var ec=cM.getElementsByTagName("body");if(ec.length){ec[0].appendChild(ee)}bP("PromoCode: appended to body "+roistatPromoCode.length);var ed=cM.getElementsByClassName("roistat-promo-wrap")[0];if(!ed){bP("PromoCode: roistat-promo-wrap not found, skip");return}var eb=ed.style;var d9,ea,d8;setInterval(function(){d9=cc();ea=ed.offsetWidth;d8=ed.offsetHeight*2;switch(roistatPosition){case"top_left":eb.left=0;eb.top=0;break;case"top":eb.left=((d9.width-ea)/2)+"px";eb.top=0;break;case"top_right":eb.right=0;eb.top=0;break;case"left":eb.left=0;eb.top=((d9.height-d8)/2)+"px";break;case"right":eb.right=0;eb.top=((d9.height-d8)/2)+"px";break;case"bottom_left":eb.left=0;eb.bottom=0;break;case"bottom":eb.left=((d9.width-ea)/2)+"px";eb.bottom=0;break;case"bottom_right":eb.right=0;eb.bottom=0;break;default:eb.left=0;eb.top=0}},500)};var e=aU.getObject("promo_code_options");if(e){bP("PromoCode: options already set");cD.roistatPromoCode=e.template;cD.roistatPosition=e.position;d4()}else{if(!cD.roistat.promoCode.isEnabled){bP("PromoCode: is not available, skip");return}var d5=cM.getElementsByTagName("head")[0]||cM.documentElement;var d3=cM.createElement("script");d3.src=cJ()+"//"+b2+"/site-api/"+bm+"/"+dr()+"/getPromoCode";d5.insertBefore(d3,d5.firstChild);bP("PromoCode: loading started");var d2=false;d3.onload=d3.onreadystatechange=function(){if(!d2&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d2=true;d3.onload=d3.onreadystatechange=null;if(d5&&d3.parentNode){d5.removeChild(d3)}}if(!d2){return}bP("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){bP("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};aU.setObject("promo_code_options",e);d4()}}};var av=function(d2,d3){for(var e=0;e<d2.length;e++){if(d2[e]===d3){return true}}return false};var dD=function(d2){if(!al||d2===""){return}var e=di();bc("visit: "+e+" "+d2)};var bc=function(d2){var e=bS()+"/log?log="+encodeURIComponent(d2);c6(e)};var dU=function dU(){var d5=cD.onpopstate;var d6=cD.history.pushState;var e=cD.history.replaceState;cv(cD,"popstate",function d4(d7){bP("[Roistat]: popstate event catch");cS();if(b6()&&typeof d5==="function"){d5(d7)}});cv(cD.history,"pushState",function d3(d8,d9,d7){bP("[Roistat]: pushState event catch");
cS();if(b6()&&typeof d6==="function"){d6.apply(this,[d8,d9,d7])}});cv(cD.history,"replaceState",function d2(d8,d9,d7){bP("[Roistat]: replaceState event catch");cS();if(b6()&&typeof e==="function"){e.apply(this,[d8,d9,d7])}})};(function Q(){dU();if(cD.onRoistatModuleLoaded!==dT&&typeof cD.onRoistatModuleLoaded==="function"){cD.onRoistatModuleLoaded()}})();(function Y(){var d2="fngr.roistat.com";var d5=false;if(!d5){bP("Fingerprint: disabled");return}cD.roistat.crossdevice={registerFingerprint:function d3(d6){bP("Fingerprint: collected data "+JSON.stringify(d6));roistat.registerOnVisitProcessedCallback(function(){bP("Fingerprint: sending to service");var d7=Object.keys(d6).map(function(d9){return d6[d9].key+"="+encodeURIComponent(d6[d9].data)}).join("&");d7=d7+"&visit="+dr()+"|"+bT()+"|"+roistat.getVisit();d7+="&host="+encodeURIComponent(cD.location.host);var d8=cJ()+"//"+d2+"/register?"+d7;c6(d8)})},markVisit:function e(d6){bP("Fingerprint: marking visit "+d6)}};bP("Fingerprint: initialising library");var d4=cJ()+"//"+d2+"/static/fingerprint.js";c6(d4)})();var cz=function(d2){var d7=function(ee,ec){var eb;if(bN(ec,"*")){var ed=new RegExp(ec.split("*").join(".*"));eb=ed.test(ee)}else{eb=ee===ec}bP("LeadHunter: compare current: "+ee+", setting: "+ec+" with result = "+(eb?1:0));return eb};var e=cD.location.href,d4=false,d3=false,d9="",d5=0,d8;d8=d2?d2.split(","):[];if(!e||d8.length===0){d4=true}else{d9=aS(e);var ea;for(var d6=0;d6<d8.length;d6++){ea=d8[d6].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(ea)){if(d7(d9,ea.split(/^!/).join(""))){d3=true;break}}else{d5++;if(d7(d9,ea)){d4=true;break}}}}if(d3){bP('LeadHunter: current page "'+d9+'" is disabled by list');return false}if(!d4&&d5>0){bP('LeadHunter: current page "'+d9+'" is not listed');return false}bP('LeadHunter: current page "'+e+'", cleaned: "'+d9+'" is not disabled in '+d8.length+" list of pages");return true};try{bE()}catch(dw){dD(dw)}(function j(){var er="empty",d8=false,d2=true,ei=false;var en={roistat_visit:cC(aX),marker:dR,user_agent:cD.navigator.userAgent,current_page:{title:cM.title,href:cD.location.protocol+"//"+cD.location.host+cD.location.pathname}};var es=function(ey,ex,ew){if(ey.addEventListener){ey.addEventListener(ex,ew,false)}else{if(ey.attachEvent){ey.attachEvent("on"+ex,ew)}else{bP("Handler could not be attached")}}};var ek=function(ey,ew){if(ey===dT||typeof ew!=="string"||ew.length===0){return}var ex=ey.getElementsByClassName(ew);if(ex===dT||ex.length===0){return}return ex[0]};var et=function(ew){return typeof ew==="object"&&ew!==null};var d9=function(ew,ey,ex){if(et(ew)){if(ex){ew.classList.add(ey);return}ew.classList.remove(ey)}};var eu=cD.visualViewport;var eh="visualViewport" in cD;var el=function(ew){return(ew===0)?1:ew};var ev=function(){var ew;if(eh){ew=1/el(eu.scale)}else{ew=cD.innerWidth/el(cD.outerWidth)}return ew};var ep=function(){if(aJ()){return"none"}return"scale("+ev()+")"};var d7=function(){if(!aJ()){return"none"}return"scale("+ev()+")"};var eo={leadHunter:function(){var gh="roistat-lh-form",eT="roistat-lh-form",gj="roistat-lh-head-text",e7="roistat-lh-head",eQ="roistat-lh-thank-you",fy="roistat-lh-thank-you",eB="roistat-lh-close",eC="roistat-lh-submit",fg="roistat-lh-hidden",fX="roistat-lh-wrap",eV="roistat-lh-popup-wrapper",fx="roistat-lh-popup",gi="roistat-lh-agreement",ft="roistat-lh-agreement roistat-lh-mobile",gx="roistat-lh-agreement-input",f8="roistat-lh-agreement-link",ew="roistat-lh-agreement-doc",gd="roistat-lh-alert-row",fF="roistat-lh-agreement",fs="roistat-lh-popup-iframe",fI="roistat_leadHunterUrl",ga="roistat_leadHunterAppearanceUrl",fk="roistat_leadHunterTargetPagesList",eP="roistat_leadHunterCaught",fP="roistat_leadHunterMinTime",fb="roistat_leadHunterAutoShowTime",fM="roistat_leadHunterPulsatorEnabled",e5="roistat_leadHunterScriptsCaught",gy="roistat_leadHunterScriptsShownCount",fq="roistat-lh-load-done",eU="roistat-lh-close-modal",fZ="roistat-lh-script-settings",fY="roistat-lh-setting-size",ge="roistat-lh-before-submit",fJ="roistat-lh-before-submit-done",gl="roistat-lh-after-submit",f2="roistat-lh-event-data",f3="roistat-lh-translate-form",gu={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eO=0.3,eZ=0.001,eR=false,e2=0,eX=0,e3=0,gm=0,e1=0,fh=false,eG=false,gw=false,e0,gc,fA,fG,fW,e6,gv,gq,f9,gt,eK,gn,fT,fB,fr,eN,ez,ff,e4,fc,f6,gf,e9,fj;var gp={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gk=function(gD){var gC=encodeURIComponent?encodeURIComponent:encodeURI;return gC(gD)};var f1=function(){if(!cD.roistat.leadHunter.isEnabled){return false}if(cD.roistatLeadHunterInited){return false}cD.roistatLeadHunterInited=true;if(aU.get(ci)<1){bP("LeadHunter: disabled");return false}return true};var fe=function(){ez=aU.get(fI);
if(!ez){bP("LeadHunter: not active cause of empty url");return false}bR();ff=aU.get(ga);gm=aU.get(fP);e1=cD.roistat.leadHunter.form.autoShowTime===null?aU.get(fb):cD.roistat.leadHunter.form.autoShowTime;d8=aU.get(fM)==1;ey();bP("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(d8?1:0));return true};var fm=function(){if(co){return fU()||eY()}return aU.get(eP)>0};var ey=function(){if(!(cC(cs)>0)){bP("LeadHunter: not active, expired for this visit");fh=true}};var eH=function(gC){gw=true;fc=f6.src;var gD={version:cY,additionalNotifyEmail:cD.roistat.leadHunter.additionalNotifyEmail,projectKey:dr(),language:dn,visitId:ay(),moduleTargetOrigin:cD.location.origin,referrer:cD.location.href,windowWidth:cD.innerWidth||0,iframeWrapperWidth:fG.offsetWidth||0,sendRequestUrl:aU.get(fI),message:fq};f6.contentWindow.postMessage(gD,fc);fO();if(gC&&cz(aU.get(fk))){bP("iframe fired, rise up iframe show count state");eA()}};var fp=function(){eG=true;eF("click");eH();fV()};var eE=function(){var gC=cD.location.hash;if(!gC){return}if(bN(gC,"roistat-lead-hunter")){fp()}};var fn=function eM(){bP("LeadHunter: binding timeout");if(fh){bP("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eR){bP("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(e1>0){var gC=(e2-cA())+e1*1000;bP("LeadHunter: binding timeout with delay "+gC+" ms");clearTimeout(gp.timeoutId);gp.timeoutId=setTimeout(function(){bP("LeadHunter: form auto activate with autoTime = "+e1);if(co&&fm()){return}if(!eR){bP("LeadHunter: show by timeout");eG=true;eF("auto");eH(true);fV()}},gC)}else{clearTimeout(gp.timeoutId);bP("LeadHunter: auto show time is not positive, feature disabled")}};var gb=function(){f9.onclick=fW.onclick=fD;gt.onclick=fi;if(et(gn)){es(gn,"click",fu)}if(et(fT)){es(fT,"change",gA)}var gD=cM.getElementsByClassName("roistat-lh-input");if(Array.isArray(gD)){for(var gG=0;gG<gD.length;gG++){es(gD[gG],"keyup",function(gK){gK=gK||event;var gJ=(gK.keyCode?gK.keyCode:gK.which);if(gJ==13){fi()}})}}var gE=cD.onresize;cD.onresize=function(gJ){if(gE){gE(gJ)}gg(gJ)};if(!fh){var gC=cM.onmouseout;cM.onmouseout=function(gJ){if(gC){gC(gJ)}fS(gJ)}}if(d8&&!eg()&&et(e0)){e0.onmouseover=function(){dx(e0,"roistat-lh-pulsator-hover")};e0.onmouseout=function(){dF(e0,"roistat-lh-pulsator-hover")};e0.onclick=function(){fp()};cD.addEventListener("resize",function gI(){if(et(e0)){e0.style.transform=ep()}});if(eh){eu.addEventListener("resize",function gH(){if(et(e0)){e0.style.transform=ep()}})}}var gF=cD.onhashchange;cD.onhashchange=function(){if(gF){gF.apply(this,arguments)}eE()}};var gs=function(){if(d8&&!eg()&&et(e0)){e0.onmouseover=function(){dx(e0,"roistat-lh-pulsator-hover")};e0.onmouseout=function(){dF(e0,"roistat-lh-pulsator-hover")};e0.onclick=function(){fp()};cD.addEventListener("resize",function gG(){e0.style.transform=ep()});if(eh){eu.addEventListener("resize",function gF(){if(et(e0)){e0.style.transform=ep()}})}}fW.onclick=fD;f6=cM.getElementById(fs);if(et(f6)){es(f6,"load",function(){eH();go()})}var gD=cD.onresize;cD.onresize=function(gH){if(gD){gD(gH)}gg(gH)};if(!fh){var gC=cM.onmouseout;cM.onmouseout=function(gH){if(gC){gC(gH)}if(!co){bP("ShowLimit: Beta Test off, check cursor usually");fS(gH)}else{bP("ShowLimit: check cursor by caught or max show limit");if(!fm()){bP("ShowLimit: Check cursor allowed");fS(gH,true)}}}}var gE=cD.onhashchange;cD.onhashchange=function(){if(gE){gE.apply(this,arguments)}eE()}};var fC=function(gD){var gC=cM.getElementsByClassName(gD);if(gC.length>0){return gC[0]}else{return null}};var fz=function(){var gF=fC("roistat-lh-title");if(et(gF)&&roistat.leadHunter.form.title){gF.innerHTML=roistat.leadHunter.form.title}var gD=fC("roistat-lh-sub-title");if(et(gD)&&roistat.leadHunter.form.subTitle){gD.innerHTML=roistat.leadHunter.form.subTitle}var gE=fC("roistat-lh-thank-you");if(et(gE)&&roistat.leadHunter.form.thankYouText){gE.innerHTML=roistat.leadHunter.form.thankYouText}var gH=fC("roistat-lh-submit");if(et(gH)&&roistat.leadHunter.form.buttonText){gH.value=roistat.leadHunter.form.buttonText}var gG=fC("roistat-lh-text-label-name");if(et(gG)&&roistat.leadHunter.form.nameLabel){gG.innerHTML=roistat.leadHunter.form.nameLabel}var gC=fC("roistat-lh-text-label-contact");if(et(gC)&&roistat.leadHunter.form.contactLabel){gC.innerHTML=roistat.leadHunter.form.contactLabel}};var eW=function(gD,gH,gG){if(cM.body===null){return}var gC;if(!gD){bP("LeadHunter: deactivating, empty form")}else{bP("LeadHunter: rendering hidden form")}fW=cM.createElement("div");fG=cM.createElement("div");fG.innerHTML=gD;fW.className=fg;fG.className=fg;bP("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(d8?1:0));if(gH&&d8&&gG&&!eg()){var gE=typeof gG.position==="string"&&gG.position!==""?gG.position:"bottomRight";gC=cM.createElement("div");gC.innerHTML=gH;e0=gC.childNodes.item(0);gc=e0.childNodes.item(1);fA=e0.childNodes.item(2).childNodes.item(0);gc.setAttribute("style","background: "+gG.button.background+";");fA.setAttribute("style","fill: "+gG.button.color+";");
e0.setAttribute("style","bottom: "+gu[gE].bottom+";right:"+gu[gE].right+";");e0.style.transformOrigin=gu[gE].transformOrigin;e0.style.transform=ep();gp.pulsator.previousClass=e0.className;e0.className=fg;cM.body.appendChild(e0)}cM.body.appendChild(fW);cM.body.appendChild(fG);e6=cM.getElementById(e7);gv=cM.getElementById(eT);gq=cM.getElementById(fy);f9=cM.getElementById(eB);gt=cM.getElementById(eC);eK=cM.getElementById(gi);fT=cM.getElementById(gx);gn=cM.getElementById(f8);fB=cM.getElementById(ew);fr=cM.getElementById(gd);eN=cM.getElementById(fF);var gF=fC(eV);e4=et(gF)&&gF.getAttribute("data-is-iframe");if(e4){gs()}else{fz();gb();eE();go()}};var gr=function(gE){var gD=gE.button&&gE.button.background&&gE.button.color;if(!gD){return}aU.setObject(ca,fj);var gC=typeof gE.position==="string"&&gE.position!==""?gE.position:"bottomRight";if(et(gc)){gc.setAttribute("style","background: "+gE.button.background+";")}if(et(fA)){fA.setAttribute("style","fill: "+gE.button.color+";")}if(et(e0)){e0.setAttribute("style","bottom: "+gu[gC].bottom+";right:"+gu[gC].right+";");e0.style.transformOrigin=gu[gC].transformOrigin;e0.style.transform=ep()}};var eL=function(){var gC=aU.get(c3),gE=aU.get(bB),gD=aU.getObject(ca);if(gD!==null){eW(ba.decode(gC),ba.decode(gE),gD)}};var fl=function(){var gD=fG.clientWidth,gC=fG.clientHeight;if(et(fG)){fG.setAttribute("style",fG.getAttribute("style")+" width: "+gD+"px; height: "+gC+"px;")}if(et(gv)){gv.className=fg}if(et(e6)){e6.className=fg}if(et(eK)){eK.className=fg}if(et(gq)){gq.setAttribute("style","width: "+gD+"px; height: "+gC+"px; display: table-cell;");gq.className=eQ}setTimeout(function(){bP("LeadHunter: close form after timeout");fD()},7000)};var fV=function(){var gD=Math.round((f7()-fG.clientHeight)/2);var gC=Math.round((gB()-fG.clientWidth)/2);if(et(fG)){fG.setAttribute("style","left: "+gC+"px; top: "+Math.max(0,gD)+"px;")}};var eF=function(gD){if(!cz(aU.get(fk))){return}if(cD.roistat.leadHunter.onBeforeAppear){bP("LeadHunter: process user defined onBeforeAppear");cD.roistat.leadHunter.onBeforeAppear(gD);if(e4){fO()}}if(et(fG)){fG.setAttribute("style","left:20px;top:-20px;opacity:0");fG.className=fx}if(et(fW)){fW.className=fX}if(et(gv)){gv.className=gh}if(et(e6)){e6.className=gj}if(et(eK)){eK.className=ft}if(et(gq)){gq.setAttribute("style","");gq.className=fg}if(et(fW)){fW.setAttribute("style","opacity:0;")}eR=true;setTimeout(function(){fW.setAttribute("style","opacity:.5;")},10);var gE=cC(aX),gC=ff+"?visit_id="+gE+"&page="+h();bQ(gC);if(cD.roistat.leadHunter.onAfterAppear){bP("LeadHunter: process user defined onAfterAppear");cD.roistat.leadHunter.onAfterAppear(gE,fW,fG,gv);if(e4){fO()}}};var f0=function fE(){e2=cA();eL();bP("LeadHunter: form initialized")};var go=function fo(){bP("LeadHunter: tuning appearance for page");if(!cz(aU.get(fk))||(aU.get(by)&&!aU.get(az))){bP("LeadHunter: disabled on page");gp.leave.isShowEnabled=false;clearTimeout(gp.timeoutId);if(eg()){d2=false;ed()}if(et(e0)){e0.className=fg}}else{bP("LeadHunter: enabled on page");if(!co&&!fm()){bP("ShowLimit: Beta Test off, bindShowOnTimeout usually");gp.leave.isShowEnabled=true;fn()}if(co){bP("ShowLimit: bindShowOnTimeout by caught or max show limit");if(!fm()){bP("ShowLimit: bindShowOnTimeout allowed");gp.leave.isShowEnabled=true;fn()}}if(et(e0)){e0.className=gp.pulsator.previousClass}}};var e8=function fR(){bP("LeadHunter: processing single page application state change");e2=cA();go()};var f5=function fv(){c7(e8);var gD=function(){var gJ=cM.querySelector("html"),gF=600,gI=300,gL=cD.innerWidth,gE=getComputedStyle(gJ).zoom,gH={};var gG=function(){var gM=gJ.style.cssText.split(";").find(function(gN){return gN.includes("--zoomLevel")});if(gM!==dT){gM=gM.split(":");if(gM.length>1){gM=parseFloat(gM[1])}else{return dT}}return gM};var gK=gG();if(gK!==dT){gE=gK}if(gL<gF&&gL>=gI){gH={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gE};f6.contentWindow.postMessage({sizeSettings:gH,message:fY,windowWidth:cD.innerWidth||0},fc);return}if(gL<gI){gH={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gE};f6.contentWindow.postMessage({sizeSettings:gH,message:fY,windowWidth:cD.innerWidth||0},fc);return}gH={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gE};f6.contentWindow.postMessage({sizeSettings:gH,message:fY,windowWidth:cD.innerWidth||0},fc)};cD.roistatLeadHunterUpdate=gD;cv(cD,"load",function(){gD()});cv(cD,"resize",function(){gD()});cv(cD,"message",function gC(gI){var gN=typeof gI.data==="string"?gI.data:gI.data.message;if(gN===fZ){gf=gI.data.leadHunterId;e9=gI.data.leadHunterMaxShownCount;var gM=aU.getObject(bh)!==null;if(gM){e1=gI.data.leadHunterAutoShowTime;gm=gI.data.leadHunterMinTime;fj=gI.data.leadHunterPulsatorSettings;aU.set(fP,gm);aU.set(fb,e1);if(fj){var gL=Number(fj.isEnabled);bP("Leadhunter: set pulsator setting "+gL);aU.set(fM,gL);gr(fj)}}bP("ShowLimit: Get lhScriptId: "+gI.data.leadHunterId+" and lhScriptMaxShownCount: "+gI.data.leadHunterMaxShownCount+" from lh widget");fL()}if(gN===eU){fD()}if(gN===fY){const gH=typeof gI.data==="object"&&gI.data.calibratingSize!==dT?gI.data.calibratingSize:true;
f6.setAttribute("style","width: "+gI.data.width+"px !important; height: "+gI.data.height+"px !important;");if(gw&&!gH){f6.contentWindow.postMessage({message:fY,windowWidth:cD.innerWidth||0,calibratingSize:true},fc)}gg(gI)}if(gN===ge){var gG=gI.data.caughtLeadData;if(cD.roistat.leadHunter.onBeforeSubmit){bP("LeadHunter: process user defined onBeforeSubmit");var gE=cD.roistat.leadHunter.onBeforeSubmit(gG);if(gE){gG=gE}}if(!co){bP("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eI()}else{bP("ShowLimit: catch before submit message, setLeadHunterScriptCaught will run");fN()}var gF=aU.getObject(bH);var gK=gF!==null;var gJ=gK&&gG.isNeedCallback===null&&!T(gF);if(gJ){gG.isNeedCallback=0}f6.contentWindow.postMessage({caughtLead:gG,message:fJ},fc)}if(gN===gl){if(cD.roistat.leadHunter.onAfterSubmit){bP("LeadHunter: process user defined onAfterSubmit");cD.roistat.leadHunter.onAfterSubmit({name:gI.data.name,phone:gI.data.phone})}}})};function fO(){var gC={apiData:cD.roistat.leadHunter.form,message:f2};f6.contentWindow.postMessage(gC,fc)}function fL(){if(!f1()){bP("checkLeadHunterLaunch false");return}var gC=aU.getObject(bh)!==null;if(gC){eJ()}if(!fe()){bP("initSettings false");return}bP("LeadHunter: activated");a3(function(){f0();go();f5();if(typeof cD.onRoistatLeadHunterInited==="function"){cD.onRoistatLeadHunterInited()}})}function f7(){return(cD.innerHeight?cD.innerHeight:cM.documentElement.clientHeight==0?cM.body.clientHeight:cM.documentElement.clientHeight)}function gB(){return(cD.innerWidth?cD.innerWidth:cM.documentElement.clientWidth==0?cM.body.clientWidth:cM.documentElement.clientWidth)}function fS(gF,gC){gF=gF||event;e3=gF.clientY;var gD=e3/f7(),gH=eX>0&&eX>gD,gE=gD<eZ,gG=(cA()-e2)>gm*1000;if(gH&&gE&&!eR&&gG&&gp.leave.isShowEnabled&&!fm()){bP("LeadHunter: show modal with because move up ("+eX+" -> "+gD+") and in modal zone and show on leave enabled");eF("exit");eH(gC);fw(gF)}if(gD<eO){eX=gD}}function gg(gC){if(eG){fV()}else{gC=gC||event;fw(gC)}}function fw(gH){var gD=gH.type==="message"?gH.data.width:fG.offsetWidth;var gE=gB();var gC=gH.clientX-Math.round(gD/2)||fG.offsetLeft;gC=Math.max(20,Math.min(gC,gE-gD-20));var gI=gC+gD>gE-40;if(gI){var gF=(gC+gD-20)-(gE-40);gC=gC-gF}var gG=gE-40>gD?"":"width: "+(gD-40)+"px;";if(et(fG)){fG.setAttribute("style","left: "+gC+"px; top: 0px; "+gG)}}function eI(){if(co){return}cD.roistatSetCookie(eP,1,M)}function fD(){if(!co){bP("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eI()}if(et(fW)){fW.setAttribute("style","opacity:0")}if(et(fG)){fG.style.top="-"+fG.offsetHeight*2+"px";setTimeout(function(){fG.className=fW.className=fg},500)}}function fi(){var gQ=cM.getElementById("roistat-lh-phone-input"),gE=cM.getElementById("roistat-lh-name-input"),gG,gO;gG=gQ===null?"":gQ.value;gO=gE===null?"":gE.value;var gL={name:gO,phone:gG,isNeedCallback:null,callbackPhone:null,fields:{}};if(cD.roistat.leadHunter.onBeforeSubmit){bP("LeadHunter: process user defined onBeforeSubmit");var gH=cD.roistat.leadHunter.onBeforeSubmit(gL);if(gH){gL=gH}}var gN=gL.phone.length<1;var gP=gL.phone.indexOf("_")===-1;var gJ=!gN&&gP;var gM=gL.name.length<1;var gD=!gM||!cD.roistat.leadHunter.form.isNameRequired;if(!gJ&&et(gQ)){gQ.setAttribute("style","border: 2px solid #E0571A;");return}if(!gD&&et(gE)){gE.setAttribute("style","border: 2px solid #E0571A;");return}var gC=ez+"?v="+cY+"&lead-hunt-input="+encodeURIComponent(gL.phone)+"&lead-name="+encodeURIComponent(gL.name)+"&visit="+ay();if(gL.isNeedCallback!==null&&gL.isNeedCallback!==dT){gC=gC+"&is_need_callback="+(gL.isNeedCallback>0?1:0)}if(gL.callbackPhone){gC=gC+"&callback_phone="+gL.callbackPhone}if(cD.roistat.leadHunter.additionalNotifyEmail!==null){gC=gC+"&additional_email="+encodeURIComponent(cD.roistat.leadHunter.additionalNotifyEmail)}var gF=0;if(gL.fields&&typeof gL.fields==="object"){for(var gI in gL.fields){if(gL.fields.hasOwnProperty(gI)){++gF}}}if(gF>0){gC=gC+"&fields="+gk(JSON.stringify(gL.fields))}gC=gC+"&t="+cA();var gK=cM.createElement("img");gK.src=gC;if(et(gQ)){gQ.setAttribute("style","")}if(!co){bP("ShowLimit: Beta Test off, caught LH usually");eI()}else{bP("ShowLimit: caught LH by set setLeadHunterScriptCaught");fN()}if(!et(gq)){fD();fd()}else{fl()}if(cD.roistat.leadHunter.onAfterSubmit){bP("LeadHunter: process user defined onAfterSubmit");cD.roistat.leadHunter.onAfterSubmit({name:gO,phone:gG})}}function fu(gC){if(gC.preventDefault){gC.preventDefault()}else{gC.returnValue=false}if(et(fB)){fB.style.display==="block"?fB.style.display="none":fB.setAttribute("style","display: block; padding: 0 30px; width:"+fG.clientWidth+"px;")}gg()}function gA(){if(et(gt)){gt.disabled===true?gt.disabled=false:gt.disabled=true}if(et(fr)){fr.style.display==="block"?fr.style.display="none":fr.style.display="block"}}function fd(){cM.onmousemove=null;if(et(fW)){fW.onresize=null}}var fa=function(gI,gL){if(!gI||!gL){bP("LeadHunter: skip phone mask render due to empty input or mask");return}bP("LeadHunter: render phone mask "+gL+" for input: "+gI.value);
if(cD.roistatRenderPhoneMaskMutex){return}cD.roistatRenderPhoneMaskMutex=true;var gF="_",gE="x",gH="х",gG=gL.toLowerCase().split(gE).join(gF).split(gH).join(gF);var gD=function(gM){if(gI.setSelectionRange){gI.setSelectionRange(gM,gM)}else{if(gI.createTextRange){var gN=gI.createTextRange();gN.collapse(true);gN.moveEnd("character",gM);gN.moveStart("character",gM);gN.select()}}};var gJ=function(gM){if(!gM){return 0}var gN=gM.indexOf(gF);if(gN<0){return gM.length}return gN};var gK=function(gM){gD(gJ(gM))};var gC=function(gV){var gW=gG.split("");if(!gV){return gG}var gM=gV.split("");var gX=[],gU,gR,gT,gQ,gO,gN,gS;for(var gP=0;gP<gW.length;gP++){gR=gW[gP];if(gP>=gM.length){gX.push(gR);continue}gO=((gP+1)<gW.length)?gW[gP+1]:null;gN=((gP+1)<gM.length)?gM[gP+1]:null;gS=((gP+2)<gM.length)?gM[gP+2]:null;gU=gM[gP];gT=parseInt(gU)>=0;gQ=(gR===gF)&&gT;if(!gQ){gX.push(gR);continue}if(gN===gF&&gO!==gF&&gS!==gO){gX.push(gR);continue}gX.push(gU)}return gX.join("")};setTimeout(function(){var gM=gC(gI.value);if(gI.value!==gM){gI.value=gM}gK(gM);cD.roistatRenderPhoneMaskMutex=false},1)};var f4=function(gC,gE,gD){aU.set(c3,ba.encode(gC));aU.set(bB,ba.encode(gE));aU.setObject(ca,gD)};var fK=function(gC){dn=gC;if(f6===dT){return}ex()};var ex=function(){var gC={language:dn,message:f3};f6.contentWindow.postMessage(gC,fc)};var fN=function(){bP("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gC=aU.getObject(e5);if(!gC){gC={}}bP("ShowLimit: roistat_leadHunterScriptsCaught for lhScriptId set to 1");gC[gf]=1;aU.setObject(e5,gC)};var eA=function(){bP("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gE=aU.getObject(gy);if(!gE){gE={}}var gF=gE.hasOwnProperty(gf);var gC=aU.get(eP)>0;if(!gF){bP("ShowLimit: roistat_leadHunterScriptsShownCount for lhScriptId initialized");gE[gf]=gC?1:0}var gD=e9>0&&gE[gf]+1>e9;if(gD){bP("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in storage not rise up, return from function");return}bP("ShowLimit: exist lhScriptId show counter rise up");gE[gf]+=1;aU.setObject(gy,gE);if(gC){aU.remove(eP);dN(eP,{path:"/"});bP("ShowLimit: cookie roistat_leadHunterCaught handled and deleted")}};var eY=function(){if(e9===0){bP("ShowLimit: show limit off and set to 0");return false}var gD=aU.getObject(gy),gC=aU.get(eP)>0?1:0,gE=gD?gD[gf]:gC,gF=gE+1>e9;bP("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gF);return gF};var fU=function(){var gE=aU.getObject(e5),gC=gE?gE[gf]:null,gD=gC===1;bP("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gD);return gD};var eJ=function(){aU.set(by,eD());aU.set(c3,ba.encode(fQ()));aU.set(fk,eS());aU.set(fM,gz())};var fQ=function(){var gC=cJ()+"//"+b2+"/api/site/1.0/"+dr()+"/leadhunter/script/"+aU.get(by)+"/widget?visit_id="+di();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gC+'" frameborder="0"></iframe></div>'};var eD=function(){var gD=aU.getObject(bh);if(gD===null){return}aU.set(az,"");var gH=Number(aU.get(ci));var gL=Object.keys(gD);var gI=gL.sort()[0];if(!gH){return gI}for(var gG=0;gG<gL.length;gG++){var gM=gD[gL[gG]];var gJ=gM.targetPageList;var gF=cz(gJ.join(","));var gE=gJ.length===0;var gC=Array.isArray(gM.devicesFilter)&&gM.devicesFilter.length>0?gM.devicesFilter.indexOf(bG())!==-1:true;var gK=(gE||gF)&&gC&&(!gM.timetable.isEnabled||T(gM.timetable));if(gK){gI=gL[gG];aU.set(az,gI)}}return gI};var eS=function(){var gC=fH();return gC!==null?gC.targetPageList.join(","):""};var gz=function(){var gC=fH();return gC!==null?Number(gC.isPulsatorEnabled):0};var fH=function(){var gC=aU.get(by);var gD=aU.getObject(bh);return gD!==null&&gD[gC]!==null?gD[gC]:null};cD.roistatLeadHunterShow=fp;cD.roistatRenderPhoneMask=fa;cD.roistat.leadHunter.localization.translateToRussian=function(){fK(aZ)};cD.roistat.leadHunter.localization.translateToEnglish=function(){fK(de)};ak(fL)},multiwidget:function(){var fi="roistat-multiwidget-hidden",ft="roistat-multiwidget-pulsator-phone",fr="roistat-multiwidget-pulsator-popup-item-lead-hunter",eN="roistat-multiwidget-pulsator-fill",fw="roistat-multiwidget-pulsator-fill-svg",e8="roistat-multiwidget-pulsator-img-icon",eM="roistat-multiwidget-pulsator-popup-item-chat",ez="roistat-multiwidget-pulsator-popup-item-facebook",eF="roistat-multiwidget-pulsator-popup-item-vk",e7="roistat-multiwidget-pulsator-popup-item-telegram",eV="roistat-multiwidget-pulsator-popup-item-whats-app",eT="roistat-multiwidget-pulsator-popup-item-viber",fd="roistat-multiwidget-pulsator-overlay",fc="roistat-multiwidget-pulsator-items-popup-holder",e1="roistat-multiwidget-pulsator-popup-header-wrapper",e6="iframe_chat_successfully_loaded",eG="roistat-multiwidget-pulsator-popup-tail",e3="roistat-online-chat-popup-wrapper",fv="roistat-online-chat-popup-wrapper-hidden",fp="roistat-multiwidget-pulsator-holder-hidden";var eL,fb,eW,eP,eR,fs,ew,eC,fu,e2,eI,ey,eJ,eA,fl,eB;var eS=false;var e0=true;var fq={topLeft:{bottom:"unset",right:"unset",top:c5()?0:"20px",left:c5()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:c5()?0:"35px",top:c5()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:aJ()?0:"20px",right:aJ()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:c5()?0:"20px",right:"unset",top:"unset",left:c5()?0:"35px",transformOrigin:"bottom left"}};
var eE={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eU={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fh(fy){bP("Multiwidget: "+fy)}function e5(){fb=ek(eL,ft);eW=ek(eL,fc);eR=ek(eL,e1);eP=ek(eL,fd);e2=ek(eW,fr);fs=ek(eL,eG);eI=ek(eW,eM);ey=ek(eW,eF);eJ=ek(eW,ez);eA=ek(eW,e7);fl=ek(eW,eV);eB=ek(eW,eT);ew=ek(fb,eN);eC=fb.getElementsByClassName(fw);fu=ek(fb,e8)}function fk(){if(aJ()&&et(eP)&&et(eW)){if(eW.classList.contains(fi)){eD(eP)}else{ff(eP)}}}function eO(){if(et(eW)){eW.classList.toggle(fi)}fk()}function fo(fy){if(et(fy)){fy.classList.toggle("opened")}}function fx(){fh("add pulsator events");es(fb,"click",function(){if(!eY()){eO()}fo(fb)});es(eR,"click",function(){if(!eY()){eO()}fo(fb);fk()});es(eP,"click",function(){if(!eY()){eO()}fo(fb);fk()});es(e2,"click",function(){fh("opening leadhunter via multiwidget");cD.roistatLeadHunterShow();eO();d9(fb,"opened",false)});es(eI,"click",function(){fh("opening online chat via multiwidget");cD.roistatOnlineChatShow();eO()});es(ey,"click",function(){cD.open(aU.get(x),"_blank")});es(eJ,"click",function(){cD.open(aU.get(cQ),"_blank")});es(eA,"click",function(){cD.open(aU.get(dJ),"_blank")});es(fl,"click",function(){cD.open(aU.get(aW),"_blank")});es(eB,"click",function(){cD.open(aU.get(b1),"_blank")})}function eY(){var fy=ek(cM,e3);return et(fy)&&!fy.classList.contains(fv)}function eZ(){return et(fc)&&!fc.classList.contains(fi)}function eD(fy){if(et(fy)){fy.classList.add(fi)}}function ff(fy){if(et(fy)){fy.classList.remove(fi)}}function e9(){eD(e2)}function eX(){fh("hiding disabled multiwidget options");var fy=Number(aU.get(ci)),fz=Number(aU.get(o)),fB=Number(aU.get(V)),fE=Number(aU.get(a9)),fA=Number(aU.get(ch)),fD=Number(aU.get(a));var fC=0;if(!fy||!d8||!d2){fh("hiding leadhunter option");e9()}if(!ec()||!eS){fh("hiding online chat option");eD(eI)}if(ec()){fC++}if(!fz){fh("hiding vk-messenger option");eD(ey)}else{fC++}if(!fB){fh("hiding fb-messenger option");eD(eJ)}else{fC++}if(!fE){fh("hiding telegram-messenger option");eD(eA)}else{fC++}if(!fA){fh("hiding whatsApp-messenger option");eD(fl)}else{fC++}if(!fD){fh("hiding Viber-messenger option");eD(eB)}else{fC++}e0=fC>1;if(aJ()&&e0){fh("hiding popup header");ff(eR)}}function ex(){var fz=aU.getObject(I);fh("start filling pulsator");if(fz){if(et(ew)){ew.setAttribute("style","background: "+fz.button_color+";")}if(et(fu)){fu.setAttribute("style","fill: "+fz.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eC)){for(var fy=0;fy<eC.length;fy++){eC[fy].setAttribute("style","fill: "+fz.button_color+";")}}}}function fe(){var fy=aU.getObject(I);return fy!==null&&typeof fy.position==="string"&&fy.position!==""?fy.position:"bottomRight"}function fa(){if(et(eL)){var fy=fe();eL.setAttribute("style","top: "+fq[fy].top+";right:"+fq[fy].right+";bottom:"+fq[fy].bottom+";left:"+fq[fy].left+";");eL.style.transformOrigin=fq[fy].transformOrigin;eL.style.transform=ep()}}function eQ(){if(et(fb)){var fy=fe();var fz="transform: "+d7()+";";var fA=fy==="topLeft"||fy==="bottomLeft"?"margin-right":"margin-left";fb.setAttribute("style",fA+": auto;"+fz)}}function fg(){if(et(eW)){var fy=fe();var fz=aJ()?"0":eE[fy].bottom;var fA=aJ()?"unset":eE[fy].top;eW.setAttribute("style","top: "+fA+";right:"+eE[fy].right+";bottom:"+fz+";left:"+eE[fy].left+";")}}function eH(){if(et(fs)){var fy=fe();fs.setAttribute("style","top: "+eU[fy].top+";right:"+eU[fy].right+";bottom:"+eU[fy].bottom+";left:"+eU[fy].left+";border-top-color:"+eU[fy]["border-top-color"]+";border-right-color:"+eU[fy]["border-right-color"]+";border-bottom-color:"+eU[fy]["border-bottom-color"]+";border-left-color:"+eU[fy]["border-left-color"]+";")}}function fm(){fa();eQ();if(!aJ()){fg();eH()}}function eK(){if(cM.body===null){return}var fz=ba.decode(aU.get(g));if(fz){fh("appending multiwidget pulsator");var fy=cM.createElement("div");fy.innerHTML=fz;eL=fy.childNodes.item(0);if(!cD.roistat.multiwidget.isVisible){fh("Hide widget");eL.className=eL.className+" "+fp}cM.body.appendChild(eL);e5();eX();ex();fm();fx();if(!b){eL.classList.add("old")}}}function e4(){var fE=aU.getObject(cT);
if(!fE){var fG=parseInt(aU.get(bO));fG=!isNaN(fG)?Boolean(fG):roistat.multiwidget.isEnabled;var fz=Boolean(parseInt(aU.get(o)))||roistat.multiwidget.vk.isEnabled;var fI=aU.get(x);fI=fI!=="null"?fI:roistat.multiwidget.vk.link;var fD=Boolean(parseInt(aU.get(V)))||roistat.multiwidget.fb.isEnabled;var fH=aU.get(cQ);fH=fH!=="null"?fH:roistat.multiwidget.fb.link;var fA=Boolean(parseInt(aU.get(a9)))||roistat.multiwidget.telegram.isEnabled;var fJ=aU.get(dJ);fJ=fJ!=="null"?fJ:roistat.multiwidget.telegram.link;var fy=Boolean(parseInt(aU.get(ch)))||roistat.multiwidget.whatsApp.isEnabled;var fC=aU.get(aW);fC=fC!=="null"?fC:roistat.multiwidget.whatsApp.link;var fF=Boolean(parseInt(aU.get(a)))||roistat.multiwidget.viber.isEnabled;var fB=aU.get(b1);fB=fB!=="null"?fB:roistat.multiwidget.viber.link;fE={is_enabled:fG,vk:{is_enabled:fz,link:fI},fb:{is_enabled:fD,link:fH},telegram:{is_enabled:fA,link:fJ},whats_app:{is_enabled:fy,link:fC},viber:{is_enabled:fF,link:fB}}}dQ(fE)}function fj(){cv(cD,"message",function fz(fC){var fB=typeof fC.data==="string"?fC.data:fC.data.message;if(fB===e6){eS=true;ff(eI)}});function fA(){if(et(eL)){eL.style.transform=ep();fg();eH();if(!aJ()){eD(eP);eD(eR);ff(fs)}else{fk();eD(fs);if(e0){ff(eR)}}}}cv(cD,"resize",fA);if(eh){cv(eu,"resize",fA)}function fy(){if(et(fb)){fb.classList.toggle("opened")}}cD.roistatToggleMultiwidgetState=fy}function fn(){e4();bR();fj();fh("activated");a3(function(){eK();if(typeof cD.onRoistatMultiwidgetInited==="function"){cD.onRoistatMultiwidgetInited()}})}ed=e9;ak(fn)},onlineChat:function(){var fT="iframe-module-created",eM="iframe_chat_successfully_loaded",fW="iframe_resize",eA="iframe-online-chat-opened",eI="iframe-online-chat-invite-message",gj="iframe-delivered-messages",fX="roistat-online-chat-init",fR="roistat-online-chat-init-with-text",fy="roistat-online-chat-open",fM="roistat-online-chat-close",gr="roistat-online-chat-reload",gb="roistat-online-chat-update-custom-params",e6="roistat-online-chat-lead_successfully_sent",f3="roistat-online-chat-translate-form",fh="roistat-online-chat-send-lead",ge="roistat_chat_id",gq="roistat_chat_session",fU="roistat_chat_custom_position",fC="roistat-online-chat-page-resized",eW=10*365*24*60*60,e0,eN,gf,eJ,eQ,gc,fJ,fb,fH;var fx="roistat-online-chat-popup-iframe",fe="roistat-online-chat-hidden",gg="roistat-online-chat-holder",ga="roistat-online-chat-popup-wrapper",f7="roistat-multiwidget-pulsator-phone",fF="roistat-multiwidget-pulsator-items-popup-holder",eZ="roistat-multiwidget-pulsator-overlay",fA="roistat-multiwidget-hidden",eB="roistat-multiwidget-pulsator-popup-item-chat",fG="roistat-online-chat-popup-wrapper-hidden",fc="roistat-online-chat-popup-mouse-track",fw="roistat-online-chat-popup-mouse-track-active",fg="roistat-online-chat-pulsator-fill",gd="roistat-online-chat-pulsator-img",fo="roistat-online-chat-pulsator-phone",gu="roistat-online-chat-pulsator-circle",eH="."+gu,f6="roistat-online-chat-pulsator-notification-circle",gs="."+f6,e4="roistat-online-chat-pulsator-fill-svg",fE="roistat-online-chat-popup-spacer",eV=".roistat-multiwidget-pulsator-items-popup",eR=".roistat-online-chat-pulsator-phone",ft=".roistat-online-chat-popup-wrapper",eY="roistat-online-chat-full-screen";var e8=99;var f9="roistat-online-chat-pulsator-notification-limit";var fd=false,gt=false,eO=false,ff=false,gw=false,fK=0,eF=0;var fY={};var fB=".roistat-online-chat-holder";var fn="roistat-online-chat-holder-hidden";if(eg()){fB=".roistat-multiwidget-pulsator-holder";fn="roistat-multiwidget-pulsator-holder-hidden";gu="roistat-multiwidget-pulsator-circle";eH="."+gu;f6="roistat-multiwidget-pulsator-notification-circle";gs="."+f6;f9="roistat-multiwidget-pulsator-notification-limit"}var gk;var gp={topLeft:{bottom:"unset",right:"unset",top:aJ()?"10px":"20px",left:aJ()?"24px":"35px"},topRight:{bottom:"unset",right:aJ()?"24px":"35px",top:aJ()?"10px":"20px",left:"unset"},bottomRight:{bottom:aJ()?"10px":"20px",right:aJ()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:aJ()?"10px":"20px",right:"unset",top:"unset",left:aJ()?"24px":"35px"}};var gz=function(){return{topLeft:{top:aJ()?"unset":"130px",right:"unset",bottom:aJ()?"0px":"unset",left:aJ()?0:"65px"},topRight:{top:aJ()?"unset":"130px",right:aJ()?0:"65px",bottom:aJ()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:aJ()?0:"65px",bottom:aJ()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:aJ()?0:"130px",left:aJ()?0:"65px"}}};var gh={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fQ=function(gA){bP("onlineChat: "+gA)};var e5=function(){function gA(){return Math.random().toString(36).substr(2,8)}return gA()+gA()+gA()+gA()};var fD=function(){var gA=cM.querySelector('meta[name="viewport"]');if(et(gA)){return gA.getAttribute("content")}return null};var eG=fD();var fL="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";
var eP=function(){var gA=cC(gq);if(!gA){gA=aU.get(gq)}if(!gA){gA=e5();var gB={expires:eW,path:"/"};if(M.domain){gB.domain=M.domain}aU.save(gq,gA,gB)}return gA};var eE=function(){var gA={message:fT,detail:{version:cY,language:a4,projectKey:dr(),visitId:ay(),firstVisit:bT(),chatId:cC(ge),moduleTargetOrigin:cD.location.origin,referrer:cD.location.href,params:en,sessionUniqueKey:eP(),isOpened:gi(),isMobile:aJ()}};gc.contentWindow.postMessage(gA,gc.src)};var e1=function(){var gA={message:eA,detail:{isOpened:gi(),isMobile:aJ()}};gc.contentWindow.postMessage(gA,gc.src)};var e3=function(){var gA={message:gb,detail:{params:en,isMobile:aJ()}};gc.contentWindow.postMessage(gA,gc.src)};var ex=function(){var gA={language:a4,message:f3};gc.contentWindow.postMessage(gA,gc.src)};var e7=function(gB){var gA={message:fR,detail:{message:gB,isMobile:aJ()}};gc.contentWindow.postMessage(gA,gc.src)};var gy=function(gA){var gB={message:fy,detail:{chatId:gA,isMobile:aJ()}};gc.contentWindow.postMessage(gB,gc.src)};var eU=function(){cD.focus();if(typeof cD.roistatOnlineChatToggle==="function"){cD.roistatOnlineChatToggle()}if(typeof cD.roistatToggleMultiwidgetState==="function"){cD.roistatToggleMultiwidgetState()}eK(gk)};var eX=function(){var gA={message:fC,detail:{isMobile:aJ()}};gc.contentWindow.postMessage(gA,gc.src)};var eS=function(gA){var gB={message:fW,isFullScreen:gw,iframeStyles:gA};gc.contentWindow.postMessage(gB,gc.src)};var f5=function(gA){var gB={expires:eW,path:"/"};if(M.domain){gB.domain=M.domain}dN(ge,{path:"/"});aY(ge,gA,gB)};var f4=function(){cv(cD,"message",function gA(gD){var gC=typeof gD.data==="string"?gD.data:gD.data.message;var gB=typeof gD.data!=="string"?gD.data.detail:{};fQ("event: "+gC+" "+JSON.stringify(gB));switch(gC){case eM:f8();cD.setRoistatOnlineChatCustomParams=fk;fk(en);if(typeof cD.onRoistatOnlineChatInited==="function"){cD.onRoistatOnlineChatInited()}break;case fT:gt=true;eE();if(eO){eO=false;if(et(gf)){gf.classList.remove(fG);e1()}}break;case fX:fQ("saving chat id = "+gB.chatId);f5(gB.chatId);break;case fR:fQ("saving chat with text id = "+gB.chatId);if(cD.onRoistatChatInit!==dT&&typeof cD.onRoistatChatInit==="function"){cD.onRoistatChatInit(gB.chatId)}f5(gB.chatId);cD.roistatOnlineChatShow();break;case fy:fQ("saving chat id by open chat = "+gB.chatId);f5(gB.chatId);cD.roistatOnlineChatShow();break;case fM:eU();break;case eI:fQ("rendering invite message");fZ(gB.message);break;case gj:fQ("get delivered messages");gx(gB.messages);break;case fW:gw=gD.data.isFullScreen;if(aJ()){eS({});return}Object.assign(fY,{width:gc.getBoundingClientRect().width,height:gc.getBoundingClientRect().height,borderRadius:cD.getComputedStyle(gc).borderRadius});gc.classList.toggle(eY,gw);gc.style.transition="unset";if(gw){Object.assign(fY,{top:gf.style.top,right:gf.style.right,bottom:gf.style.bottom,left:gf.style.left});gf.style.top=0;gf.style.right=0;gf.style.bottom=0;gf.style.left=0;gf.style.transition="unset"}else{gf.style.top=fY.top;gf.style.right=fY.right;gf.style.bottom=fY.bottom;gf.style.left=fY.left;fY={};setTimeout(function(){gc.style.transition="height 0.5s ease-in";gf.style.transition="all 0.3s"},30)}eS(fY);break;case fh:fQ("sending lead");e2(gB.leadData)}})};var fj=function(){var gB=cD.roistat.onlineChat.notificationsCustomHolderSelector;var gA=gB!==null;return cM.querySelector(gA?gB:fB)};var e2=function(gA){cD.roistatGoal.reach(gA,function(){gc.contentWindow.postMessage(e6,gc.src)})};var fZ=function(gH){if(gi()){return}var gC="<div class='roistat-online-chat-message'><img src='"+gH.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gH.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gH.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gG=cM.createElement("div");gG.innerHTML=gC;var gF=fj();if(et(gF)){var gI=fI()?"beforeend":"afterbegin";gF.insertAdjacentHTML(gI,gC);var gE=gF.getElementsByClassName("roistat-online-chat-message-close");var gA=gF.getElementsByClassName("roistat-online-chat-message");var gD=gE[fI()?gE.length-1:0];var gB=gA[fI()?gE.length-1:0]}setTimeout(function(){gB.remove()},15000);es(gB,"click",function(gJ){gJ.stopPropagation();if(!gi()){f1()}gl()});es(gD,"click",function(gJ){gJ.stopPropagation();gB.remove()})};var gx=function(gC){var gG=fj();if(et(gG)){var gH=gG.querySelector(eH);var gB=gG.querySelector(gs);var gF=gC>e8;var gE=gF?e8+"+":gC;if(gB&&!gC){gB.remove();return}if(gB){gB.textContent=gE;gB.classList.toggle(f9,gF);return}if(gC){var gA=gF?f9:"";var gD='<div class="'+f6+gA+'">'+gE+"</div>";gH.insertAdjacentHTML("beforebegin",gD)}}};var gl=function(){var gB=fj();if(et(gB)){var gA=gB.getElementsByClassName("roistat-online-chat-message");while(gA.length>0){gA[0].remove()}}};var go=function(){gc=cM.getElementById(fx);
if(et(gc)){es(gc,"load",function(){fv()})}es(cM,"click",function(gF){var gE=cD.roistat.onlineChat.customTriggerSelector;if(eg()){var gG=ek(cM,f7);var gD=ek(cM,eB);var gC=gi()&&gF.target!==gD&&!gD.contains(gF.target);if(gC){d9(gG,"opened",false)}}else{var gA=ek(cM,gg);var gB=gi()&&gF.target!==gA&&!gA.contains(gF.target);if(gB){d9(gA,"opened",false)}}if(gi()&&(gF.target.closest(eV)===null&&gF.target.closest(ft)===null&&gF.target.closest(eR)===null&&(gE?gF.target.closest(gE)===null:true))){f1()}})};var ey=function(gC){var gB=gf.getBoundingClientRect().x;var gA=gf.getBoundingClientRect().y;ff=true;eD();fK=gC.pageX-gB;if(fI()){eF=gC.pageY+gA}else{eF=gC.pageY-gA}};var fm=function(){ff=false;f0();e9()};var eD=function(){if(et(eN)){eN.classList.add(fw)}};var f0=function(){if(et(eN)){eN.classList.remove(fw)}};var fN=function(gI){if(ff&&et(gf)){var gA=gf.getBoundingClientRect();var gH=gA.width;var gG=400;var gB=50;var gL=0;var gD=cD.innerHeight-gG;var gJ=gI.pageX-fK;var gF=gB;var gC=cD.innerWidth-gB-gH;if(fI()){gL=cD.innerHeight-(gI.pageY+gA.y)-20}else{gL=gI.pageY-eF}var gK=gn();var gE=gK==="bottomLeft"||gK==="bottomRight"?"top":"bottom";if(gJ>=gF&&gJ<=gC){gf.style.left=gJ+"px";if(!gv()){gf.style.right="unset"}}if(gL>=50&&gL<=gD){gf.style[gE]=gL+"px"}}};var e9=function(){var gA={position:gn(),top:gf.style.top,left:gf.style.left,bottom:gf.style.bottom,right:gf.style.right};aU.setObject(fU,gA)};var gn=function(){var gA=aU.getObject(I);var gB=gA!==null&&typeof gA.position==="string"&&gA.position!=="";return gB?gA.position:"bottomRight"};var fI=function(){var gA=gn();return gA==="topLeft"||gA==="topRight"};var gv=function(){var gA=gn();return gA==="topLeft"||gA==="bottomLeft"};var fa=function(gB){var gA=Math.max(gB*ev(),gB)+"px";eJ.style.height=gA;eJ.style.marginBottom="-"+gB+"px"};var eL=function(){var gE=gn();var gH=cD.roistat.onlineChat.customPosition;var gG=gz();var gK=gH&&gH.top!==null?gH.top:gG[gE].top;var gC=gH&&gH.right!==null?gH.right:gG[gE].right;var gA=gH&&gH.bottom!==null?gH.bottom:gG[gE].bottom;var gD=gH&&gH.left!==null?gH.left:gG[gE].left;gf=ek(e0,ga);if(et(gf)){gf.classList.add(fG);gf.setAttribute("style","visibility: hidden;top: "+gK+";right:"+gC+";bottom:"+gA+";left:"+gD+";");eJ=ek(e0,fE);if(et(eJ)){var gI=parseInt(gK==="unset"?gA:gK);fa(gI);var gJ=function(){if(aJ()){gf.style.height=cD.visualViewport.height+"px"}else{gf.style.height="unset"}};gJ();cD.addEventListener("resize",function gB(){fa(gI);gJ();eX()});if(eh){eu.addEventListener("resize",function gF(){fa(gI);gJ();eX()})}}}};var gm=function(){var gA=gn();var gB=function(){if(et(gf)&&!gw){var gE=gz();gf.style.right=gE[gA].right;gf.style.left=gE[gA].left;gf.style.top=gE[gA].top;gf.style.bottom=gE[gA].bottom}};cD.addEventListener("resize",function gD(){gB()});if(eh){eu.addEventListener("resize",function gC(){gB()})}};var fl=function(){if(et(eN)){var gA=gn();eN.setAttribute("style","top: "+gh[gA].top+";bottom:"+gh[gA].bottom+";height:"+gh[gA].height+";")}};var fi=function(){if(et(gk)){var gA=gn();gk.setAttribute("style","top: "+gp[gA].top+";right:"+gp[gA].right+";bottom:"+gp[gA].bottom+";left:"+gp[gA].left+";")}};var fq=function(){if(cM.body===null){return}fQ("iframe appending to page");var gA=ba.decode(aU.get(bd));e0=cM.createElement("div");e0.innerHTML=gA;cM.body.appendChild(e0);eN=ek(cM,fc);eL();gm();go()};var fs=function(){var gB=aU.getObject(I);fQ("start filling pulsator");if(gB){if(et(fJ)){fJ.setAttribute("style","background: "+gB.button_color+";")}if(et(fb)){fb.setAttribute("style","fill: "+gB.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fH)){for(var gA=0;gA<fH.length;gA++){fH[gA].setAttribute("style","fill: "+gB.button_color+";")}}}};var f8=function(){if(cM.body===null){return}var gB=ba.decode(aU.get(m));var gD=!Z()&&cD.roistatOnlineChatOnly;var gC=(gB&&!eg()&&ec())||gD;if(gC){fQ("pulsator appending to page");var gA=cM.createElement("div");gA.innerHTML=gB;gk=gA.childNodes.item(0);if(!cD.roistat.multiwidget.isVisible){fQ("Hide widget");gk.className=gk.className+" "+fn}fJ=ek(gk,fg);fb=ek(gk,gd);eQ=ek(gk,fo);fH=cM.getElementsByClassName(e4);cM.body.appendChild(gk);fi();eT();fs()}};var eT=function(){if(et(gk)){es(gk,"click",function(){f1();eK(gk)})}};function eK(gA){if(et(gA)){gA.classList.toggle("opened")}}var gi=function(){return et(gf)&&!gf.classList.contains(fG)};function fz(){var gA=cM.querySelector("#roistat-theme-color");if(et(gA)){gA.remove()}}function eC(){var gA=cM.createElement("meta");if(et(gA)){gA.setAttribute("name","theme-color");gA.setAttribute("content","#2589FF");gA.setAttribute("id","roistat-theme-color");cM.head.prepend(gA)}}var fS=function(){if(!gi()){fz();fu();return}var gA=Boolean(cM.querySelector("#roistat-theme-color"));if(da.Android()||da.iOS()){fV();if(!gA){eC()}}};var fV=function(){var gA=cM.querySelector('meta[name="viewport"]');if(!et(gA)){gA=cM.createElement("meta");gA.setAttribute("name","viewport");cM.head.appendChild(gA)}gA.setAttribute("content",fL)};function fu(){var gA=cM.querySelector('meta[name="viewport"]');
if(et(gA)&&eG!==null){gA.setAttribute("content",eG);return}if(et(gA)){gA.remove()}}var f1=function(){setTimeout(function(){ff=false},3000);if(et(gf)){gf.classList.toggle(fG);fS()}if(gi()){gl()}e1()};var fP=function(){var gA=fj();if(et(gA)){gA.classList.toggle(fn)}};var fp=function(gA){a4=gA;if(!et(gc)){return}ex()};var fr=function(gA){if(!et(gc)){return}e7(gA)};var ew=function(gA){if(!et(gc)){return}gy(gA)};function f2(gA){if(et(gA)){gA.classList.add(fA)}}var fv=function(){fd=true;var gA=function(){setTimeout(function(){var gD=null;if(eg()){gD=ek(cM,f7)}else{gD=ek(cM,gg)}if(gi()){d9(gD,"opened",false)}else{d9(gD,"opened",true);var gB=ek(cM,fF);var gC=et(gB)&&!gB.classList.contains(fA);if(gC){var gE=ek(cM,eZ);f2(gB);f2(gE)}}f1()},0)};cD.roistatOnlineChatShow=gA;cD.roistatOnlineChatToggle=gA;cD.roistatMultiwidgetShow=fP;fQ("chat window initialized")};function fk(gA){d3(gA);e3()}function ez(){var gA=aU.getObject(aV);if(typeof gA!=="object"||gA===null||typeof gA.auto_open_chat!=="object"||!gA.auto_open_chat.is_enabled){return}setTimeout(function(){if(!gt){eO=true;return}if(et(gf)){gf.classList.remove(fG);e1()}},gA.auto_open_chat.delay_in_seconds*1000)}function fO(){bR();a3(function(){fq();f4();ez()})}cD.roistat.onlineChat.actions.initWithMessage=fr;cD.roistat.onlineChat.actions.openChat=ew;cD.roistat.onlineChat.localization.translateToRussian=function(){fp(aZ)};cD.roistat.onlineChat.localization.translateToEnglish=function(){fp(de)};cD.roistat.onlineChat.localization.translate=function(gD){var gC=aQ[aZ].includes(gD),gB=aQ[de].includes(gD),gA=gD;if(gC){gA=aZ}if(gB){gA=de}fp(gA)};ak(fO)}};function ej(ew){bP("Widgets: "+ew)}function e(ew){return ew!==er}function d3(ey){var ex=Object.keys(ey);for(var ew=0;ew<ex.length;ew++){en[ex[ew]]=ey[ex[ew]]}}function eg(){var eE=Number(aU.get(ci)),ex=eE&&d8&&d2,eI=Number(aU.get(bO)),eA=ec(),eF=Number(aU.get(o)),eB=Number(aU.get(V)),ew=Number(aU.get(a9)),ez=Number(aU.get(ch)),eH=Number(aU.get(a)),eG=ex||eA||eF||eB||ew||ez||eH,ey=ex&&!eA&&!eF&&!eB&&!ew&&!ez&&!eH,eD=eA&&!ex&&!eF&&!eB&&!ew&&!ez&&!eH,eJ=!Z()&&cD.roistatOnlineChatOnly,eC=Z()&&cI();bP("Is online chat only: "+eJ);bP("Is rp: "+eJ);return eI&&eG&&!eD&&!ey&&!eJ&&!eC}function ec(){var ew=Number(aU.get(bD));if(!ew){bP("OnlineChat: Online chat is disabled");return false}var ex=aU.getObject(aV);if(ex===null){return false}if(!ex.is_available_for_current_user_agent){bP("OnlineChat: Current device group is disabled");return false}if(!ex.pages_filter.is_enabled){bP("OnlineChat: Pages filter is disabled");return true}return cz(ex.pages_filter.pages.join(","))}function ed(){ej("Multiwidget disabled. Hide leadhunter pulsator from module")}function d5(ew,ey,ex){aU.set(c3,ba.encode(ew));aU.set(bB,ba.encode(ey));aU.setObject(ca,ex)}function eb(ex,ew){aU.set(g,ba.encode(ex));aU.setObject(I,ew)}function ea(ey,ew,ex){aU.set(m,ba.encode(ey));aU.set(bd,ba.encode(ew));aU.set(bD,ex)}function ef(ew,ey,ex){d5(ew,ey,ex);aU.set(g,ba.encode(er));aU.set(bd,ba.encode(er));ei=false;eo.leadHunter()}function d4(eH,eD,eB){var ey=eH.form_template,eI=eH.pulsator_template,eA=eH.pulsator_settings;if(cI()){ef(ey,eI,eA);return}ej("start initing widgets");var eE=eB.pulsator_template,ez=eB.iframe_template,eG=eD.pulsator_template,ew=eD.pulsator_settings,eC=Number(aU.get(ci)),ex=Number(eB.settings.is_enabled),eF=aU.getObject(bh)!==null;d5(ey,eI,eA);eb(eG,ew);ea(eE,ez,ex);if(eF){aU.set(c3,ba.encode(d6()))}ei=true;if(eC&&!aH()){ej("leadhunter enabled. Start processing");eo.leadHunter()}if(ec()){ej("online chat enabled. Start processing");eo.onlineChat()}if(eg()){ej("multiwidget enabled. Start processing");eo.multiwidget()}}var d6=function(){var ew=cJ()+"//"+b2+"/api/site/1.0/"+dr()+"/leadhunter/script/"+aU.get(by)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ew+'" frameborder="0"></iframe></div>'};function eq(){var ey=aU.get(c3),eJ=aU.get(bB),eA=aU.getObject(ca),eD=Number(aU.get(ci)),eE=aU.get(m),ez=aU.get(bd),ex=aU.get(bD),eG=aU.get(g),ew=aU.getObject(I);cD.roistatLeadhunterForm=ef;cD.roistatMultiwidget=d4;if(!ey||!eJ||!eA||!eG||!ew||!eE){ej("requesting data from server");if(eg()||ec()||eD){c6(cJ()+"//"+b2+"/api/site/"+d+"/"+dr()+"/multiwidget?domain="+encodeURIComponent(cM.domain))}}else{var eI=ba.decode(eG);var eF=ba.decode(ez);if((!e(eI)||!e(eF)||cI())&&!aH()){ej("initing LeadHunter form");cD.roistatLeadhunterForm(ba.decode(ey),ba.decode(eJ),eA)}else{ej("initing multiwidget form");var eB={pulsator_template:eI,pulsator_settings:ew},eC={form_template:ba.decode(ey),pulsator_template:ba.decode(eJ),pulsator_settings:eA},eH={iframe_template:eF,pulsator_template:ba.decode(eE),settings:{is_enabled:Number(ex)}};cD.roistatMultiwidget(eC,eB,eH)}}}function ee(){eq();ej("form initialized")}function em(){ej("activated");ee()}ak(em);cD.setRoistatOnlineChatCustomParams=d3;cD.roistatSaveLeadHunterTemplates=d5;cD.roistatSaveMultiwidgetTemplate=eb;cD.roistatSaveOnlineChatTemplate=ea
})();(function bn(){var ef=function(){return cC(bX)};var d5=function(){return cC(cO)};var ed=function(){return aU.get(a0)};var d6=function(){return aU.get(b8)};var ej=function(el){return el!=null&&el!==dT&&el!==""};var ei=function(){var el=[];var em=cM.getElementsByClassName(dK);if(em&&em.length){el=em}return el};var d3=function(){var el=[];var em=cM.getElementsByClassName(c8);if(em&&em.length){el=em}return el};var d2=function(){var el=[];var em=cM.getElementsByClassName(bV);if(em&&em.length){el=em}return el};var d8=function(){var el=[];var em=cM.getElementsByClassName(w);if(em&&em.length){el=em}return el};var eb=function(){var el=[];var em=cM.getElementsByClassName(a2);if(em&&em.length){el=em}return el};var e=function(es,et,eq){bP("CallTracking: RenderPhone phone = "+es);var em=function(eF){return eF.split(/[^0-9]/).join("")};var eB=function(eI,eK){var eN=null;if(!eI){return eN}var eF=eK.split(",");if(eF.length<2){eN=eK}else{var eG=eI.getAttribute("data-prefix");if(eG){for(var eJ=0;eJ<eF.length;eJ++){var eL=eF[eJ];var eM=em(eL);if(eM.indexOf("8")===0){eM="7"+eM.substring(1)}var eH=eM.split(eG)[0]==="";if(eH){eN=eL;break}}}if(eN===null){eN=eF[0]}bP("CallTracking._getPhoneForElement: Prepared phone = "+eN+" for data-prefix = "+eG)}return eN};var eC=function(eK,eI,eH){var eL=eB(eK,eI);var eF=eH||eL;if(!eF||!eK){return}if(eK.tagName.toLowerCase()!=="a"){return}var eJ=eK.getAttribute("href");if(bN(eJ,"tel:")){var eG=eH;if(!eG){eG=em(eF);if(eG.indexOf("8")===0){eG="7"+eG.substring(1)}}eK.setAttribute("href","tel:+"+eG);eo(eK,eL)}};var eo=function(eG,eF){if(!eG.hasAttribute("title")){return}eG.setAttribute("title",eF)};var ew=function(eH,eG){var eF=eB(eH,eG);if(!eF||!eH){return}eH.innerHTML=eF};var en=/^\D*(\d+)(?:[(|\s])/;var er=/\((\d+)\)|\s(\d+)\s/;var ep=/(\(\d+\)|\s\d+\s)(.+)/;var ex=function(eH,eK){var eG=eB(eH,eK);var eJ=eG.match(en);var eI=z(eJ)?eJ[1]:"";var eL=eG.match(er);var eF=(z(eL)?(eL[1]||eL[2]):"").trim();var eM=eG.match(ep);var eN=(z(eM)?eM[2]:"").trim();return{country:eI,region:eF,number:eN}};var eD=function(eG,eF){var eH=ei();bP("CallTracking: render phone default classes for "+eH.length+" elements");d1(eH,function(eI){ew(eI,eG);eC(eI,eG,eF)});d1(d3(),function(eJ){var eI=ex(eJ,eG).country;ew(eJ,eI)});d1(d2(),function(eJ){var eI=ex(eJ,eG).region;ew(eJ,eI)});d1(d8(),function(eI){var eJ=ex(eI,eG).number;ew(eI,eJ)});d1(eb(),function(eI){eC(eI,eG,eF)})};var ez=function(eL,eG,eH){if(!eH){return}bP("CallTracking: render phone user replacement for "+eH.length+" replacements");for(var eJ=0;eJ<eH.length;eJ++){var eM=eH[eJ];if(!eM){continue}var eN=eM[0];eM=eM.substr(1);var eF=[];if(eN==="#"){var eK=cM.getElementById(eM);if(eK!==null){eF.push(eK)}}else{eF=cM.getElementsByClassName(eM);eE(eM,eL,eG)}if(!eF||eF.length<1){continue}bP("CallTracking: render phone for "+eM+", "+eF.length+" elements");for(var eI=0;eI<eF.length;eI++){ew(eF[eI],eL);eC(eF[eI],eL,eG)}}};var ey=function(eF){for(var eG=0;eG<eF.length;eG++){ez(eF[eG].phone,eF[eG].raw_phone,eF[eG].css_selectors);ev(eF[eG].phone,eF[eG].raw_phone,eF[eG].replaceable_numbers)}};var ev=function(eI,eH,eG){if(!eG||eG.length===0){return}var eF=function(){var eT=eM();var eS=cM.getElementsByTagName("*");var eN=eS.length;for(var eR=0;eR<eN;eR++){var eU=eS[eR];eJ(eU,eT,eB(eU,eI));var eQ=eU.childNodes.length;for(var eO=0;eO<eQ;eO++){var eP=eU.childNodes[eO];eL(eP,eT,eB(eP,eI))}}};var eJ=function(eR,eQ,eN){if(!eK(eR)){return}var eS=eR.getAttribute("href").replace("tel:","");var eP=eQ.length;for(var eO=0;eO<eP;eO++){if(eQ[eO].test(eS)){eC(eR,eB(eR,eN),eH)}}};var eK=function(eO){if(eO.tagName.toLowerCase()!=="a"){return false}var eN=eO.getAttribute("href");return cH(eN)&&eN.indexOf("tel:")===0};var eM=function(){var eP=[];for(var eN=0;eN<eG.length;eN++){var eO="[\\s()[\\]{}\\-+.]*";var eQ=eG[eN].split("").join(eO);eP.push(new RegExp("[+(]?"+eQ,"g"))}return eP};var eL=function(eQ,eP,eN){if(eQ.nodeType!==Node.TEXT_NODE){return}for(var eO=0;eO<eP.length;eO++){if(eQ.textContent&&eP[eO].test(eQ.textContent)){eQ.textContent=eQ.textContent.replace(eP[eO],eN)}else{if(eQ.innerText&&eP[eO].test(eQ.innerText)){eQ.innerText=eQ.innerText.replace(eP[eO],eN)}}}};eF()};var eE=function(eH,eG,eF){d1(eA(eH+"-"+dt),function(eJ){var eI=ex(eJ,eG).country;ew(eJ,eI)});d1(eA(eH+"-"+dA),function(eJ){var eI=ex(eJ,eG).region;ew(eJ,eI)});d1(eA(eH+"-"+bC),function(eI){var eJ=ex(eI,eG).number;ew(eI,eJ)});d1(eA(eH+"-"+c9),function(eI){eC(eI,eG,eF)})};var eA=function(eG){var eF=[];var eH=cM.getElementsByClassName(eG);if(eH&&eH.length){eF=eH}return eF};var eu=function eu(){var eG=d6();if(eG){eG=eG.split("\n");for(var eF=0;eF<eG.length;eF++){eG[eF]="."+eG[eF]}}if(eq instanceof Array){ey(eq)}else{eD(es,et);ez(es,et,eG)}};(function el(){eu();var eF=[300,5000,15000];eF.forEach(function(eG){setTimeout(eu,eG)})})()};var d4=function(el){aU.save(ag,el,M)};var ee=function(){if(cD.roistat.callTracking.phone){var el={expires:parseInt(cD.roistat.callTracking.sessionTime),path:"/"};if(M.domain){el.domain=M.domain}aY(bX,cD.roistat.callTracking.phone,el);
aY(cO,cD.roistat.callTracking.rawPhone,el);d4(1);aU.save(b8,cD.roistat.callTracking.replacementClasses,M);aU.save(a0,cD.roistat.callTracking.phoneScriptsJson,M)}};var ec=function(en,er,ep,eo,em){bP("CallTracking: reuse phone "+en+" for time "+er+" and replacements "+ep);var el='script[data-roistat-script-id="'+b3+'"]';cM.querySelectorAll(el).forEach(function(eu,et){if(et===0){return}eu.remove()});bP("CallTracking: all old scripts removed");if(!ej(en)){bP("CallTracking: new phone is invalid");roistat.callTracking.phone=null;ck();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=en;roistat.callTracking.sessionTime=er;roistat.callTracking.replacementClasses=ep;roistat.callTracking.phoneScriptsJson=eo;roistat.callTracking.rawPhone=em;ck();ee();var es={expires:parseInt(er),path:"/"};if(M.domain){es.domain=M.domain}aY(bX,en,es);aY(cO,em,es);aU.save(a0,eo,M);aU.save(b8,ep,M);var eq=a6(eo);e(en,em,eq)};var d7=function(){bP("CallTracking: request new phone");var el=cC(aX);var ep=br();var eo=ep?ep:dR;var en=encodeURIComponent(l);var em=bS()+"/get-phone?visit="+el+"&marker="+(eo?eo:"")+"&prefix="+c+"&prefix_bind="+aF+"&phone_scripts_bind="+ct+"&page="+en;c6(em,b3)};var d9=function(){c=cD.roistatPhonePrefix?cD.roistatPhonePrefix:"";aF=cD.roistatPhonePrefixBind?cD.roistatPhonePrefixBind:"";ct=cD.roistatCalltrackingScripts&&cD.roistatCalltrackingScripts.join?cD.roistatCalltrackingScripts.join(","):"";bP("CallTracking: refresh phone with prefix: "+c+", binding: "+aF+", scripts: "+ct);d7()};var ek=function(){var el=aU.get(ag)>0;var em=J.callTrackingEnabled;return el&&em};var ea=function(el){d4(el.is_enabled)};var eh=function eh(){var em=ef();if(!ej(em)){bP("CallTracking: invalid phone "+em+", requesting a new one");d7()}else{bP("CallTracking: render phone "+em);var el=d5();var en=a6(ed());e(em,el,en)}};var eg=function(){bP("CallTracking: init");if(aH()){bP("CallTracking: Shut down because only online chat need to be inited");return}ee();if(!ek()){bP("CallTracking: disabled, skip");return}if(J.callTrackingManual){bP("CallTracking: init finish because off manual");return}eh();c7(eh)};cD.roistatCallTrackingRefresh=d9;cD.roistatRequestNewPhone=d7;cD.roistatReusePhone=ec;cD.roistatCalltrackingUpdateSettings=ea;ak(eg)})();(function bF(){var d3=function(d9){bP("Emailtracking: "+d9)};var d7=function(d9,eb,ea){aU.save(u,d9,M);aU.save(cP,eb,M);aU.save(bt,JSON.stringify(ea),M)};var d2=function(){var d9=(cD.roistat.emailtracking.email&&cD.roistat.emailtracking.trackingEmail)||A(cD.roistat.emailtracking.emails);if(cD.roistat.emailtracking.loaded&&d9){d3("save loaded email: "+cD.roistat.emailtracking.email);d7(cD.roistat.emailtracking.email,cD.roistat.emailtracking.trackingEmail,cD.roistat.emailtracking.emails)}else{d3("settings save skip, because not loaded");cD.roistat.emailtracking.email=aU.get(u);cD.roistat.emailtracking.email=cD.roistat.emailtracking.email?cD.roistat.emailtracking.email:null;cD.roistat.emailtracking.email=cD.roistat.emailtracking.email==="null"?null:cD.roistat.emailtracking.email;d3("email loaded from storage: "+cD.roistat.emailtracking.email);cD.roistat.emailtracking.trackingEmail=aU.get(cP);cD.roistat.emailtracking.trackingEmail=cD.roistat.emailtracking.trackingEmail?cD.roistat.emailtracking.trackingEmail:null;cD.roistat.emailtracking.trackingEmail=cD.roistat.emailtracking.trackingEmail==="null"?null:cD.roistat.emailtracking.trackingEmail;d3("tracking email loaded from storage: "+cD.roistat.emailtracking.trackingEmail);cD.roistat.emailtracking.emails=a6(aU.get(bt));cD.roistat.emailtracking.emails=cD.roistat.emailtracking.emails?cD.roistat.emailtracking.emails:null;d3("emails loaded from storage: "+JSON.stringify(cD.roistat.emailtracking.emails))}};var d5=function(d9){d7(d9.email,d9.trackingEmail,d9.emails)};var d4=function(){var d9=(!!cD.roistat.emailtracking.email&&!!cD.roistat.emailtracking.trackingEmail)||A(cD.roistat.emailtracking.emails);return cD.roistat.emailtracking.enabled&&d9};var e=function(){if(!d4()){d3("emailtracking disabled, skip swapping");return}var ea=function(ef,eg,ee){if(ef.href){var ed=bL(ef.href);if(eg.test(ed)){ef.href=ed.replace(eg,ee);return true}}if(ef.nodeType!==3){return false}if(ef.textContent&&eg.test(ef.textContent)){ef.textContent=ef.textContent.replace(eg,ee);return true}else{if(ef.innerText&&eg.test(ef.innerText)){ef.innerText=ef.innerText.replace(eg,ee);return true}}return false};var d9=function(ed){return ed.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var eb=function(ef,ee){var ed=!ee.match(/[a-z]/);return ed?ef.toUpperCase():ef};var ec=function(el,en){var eo=d9(el);var ef=new RegExp("(^|\\s)(mailto:)?("+eo+")($|\\s|\\?)","gi");var ep=function(eu,es,eq,er,et){eq=eq||"";return es+eq+eb(en,er)+et};d3("starting to replace email "+el+" to "+en+" with regexp "+ef);var ee=cM.getElementsByTagName("*");var eh=ee.length;d3("found "+eh+" nodes on page");var ek=0;for(var ej=0;ej<eh;ej++){var eg=ee[ej];var em=eg.childNodes.length;if(em>0){for(var ei=0;ei<em;ei++){var ed=eg.childNodes[ei];
if(ea(ed,ef,ep)){ek++}}}if(ea(eg,ef,ep)){ek++}}d3("successfully replaced "+ek+" nodes")};if(cD.roistat.emailtracking.emails){c2(cD.roistat.emailtracking.emails,ec)}else{ec(cD.roistat.emailtracking.email,cD.roistat.emailtracking.trackingEmail)}};var d6=function(){d3("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var d8=function(){d3("init");if(aH()){d3("Shut down because only online chat need to be inited");return}c7(d6);d2();d6()};cD.roistatEmailtrackingUpdateSettings=d5;cD.roistat.emailtracking.refresh=e;ak(d8)})();(function cX(){var d4=function(d6){bP("MultiDomain: "+d6)};var d3=function(){return aU.get(dy)>0};var d2=function(ea){var eb=function(ed){if(!ed){return false}if(bN(ed,"roistat_visit")){return false}var ec=dO(ed);var ef=dO(cM.domain);var ee=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return ec!==ef&&ee.test(ed)};var d9=function(ef){var eg=ef.split("#");var ee=eg[0].split("?");var ec="";var ed="";if(ee.length===2){ec=ee[1]}if(ec){ed="&"}ec=ec+ed+"roistat_visit="+roistat.getVisit();ee[1]=ec;eg[0]=ee.join("?");return eg.join("#")};if(ea.tagName.toLowerCase()!=="a"){return}var d8=ea.getAttribute("href");var d7=false;if(eb(d8)){var d6=d9(d8);d4("update url "+d8+" > "+d6);ea.setAttribute("href",d6);d7=true}return d7};var e=function(){if(!d3()){d4("disabled, skip");return}var d6=cM.getElementsByTagName("a");var d7=d6.length;d4("found "+d7+" <a> nodes on page");var ea=0;for(var d8=0;d8<d7;d8++){var d9=d6[d8];if(d2(d9)){ea++}}d4("replaced "+ea+" nodes")};var d5=function(){d4("init");if(aH()){d4("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};ak(d5);c7(d5)})();(function W(){var e=60*1000;var d8=2*60*1000;var d2=function(ea){bP("SettingsUpdater: "+ea)};var d6=function(){aU.set(cd,cA())};var d7=function(){var eb=cN();var ea=!(eb>0);d2("is first update check: lastUpdateTime="+eb+", result="+(ea?1:0));return ea};var d9=function(){var ec=cA()-d8;var eb=cN();var ea=eb<=ec;d2("expiration check: _minTime="+ec+", lastUpdateTime="+eb+", result="+(ea?1:0));return ea};var d3=function(eb){var ea=cC(aX);cu(ea,eb)};var d4=function(eb){d2("update settings and save last update time");var ea=aU.getObject(bh)!==null;if(ea){var ec=a6(eb.js_settings.leadHunterTargetPagesMap);if(ec!==null){aU.setObject(bh,ec)}}cD.roistatCalltrackingUpdateSettings(eb.calltracking);cD.roistatEmailtrackingUpdateSettings(eb.emailtracking);cD.roistatSaveLeadHunterTemplates(eb.leadhunter_templates.form_template,eb.leadhunter_templates.pulsator_template,eb.leadhunter_templates.pulsator_settings);cD.roistatSaveMultiwidgetTemplate(eb.multiwidget_templates.pulsator_template,eb.multiwidget.pulsator_settings);cD.roistatSaveOnlineChatTemplate(eb.online_chat_templates.pulsator_template,eb.online_chat_templates.iframe_template);cD.roistatSaveProxyFormSettings(eb.proxy_forms);F(eb.js_settings);dQ(eb.multiwidget.multiwidget_settings);ao(eb.online_chat);cR(eb.geo);aj(eb.promo_code);C(eb.links_markup);K.isSettingsUpdating=false;d6()};var d5=function(){d2("init");if(d7()){d2("in first update we just start first timer and skip");d6();return}if(!d9()){d2("update is not not expired, skip");return}d2("start to update settings");d3()};ak(function(){cD.roistatUpdateSettings=d4;setTimeout(function(){d5()},3000);d2("set interval to update settings");setInterval(function(){d5()},e)})})();(function bI(d5,e,d7){var d4={};var d2=function(d9){var d8=encodeURIComponent?encodeURIComponent:encodeURI;return d8(d9)};var d3=function(ef,d9){bP("Reach goal start");if(!ef){ef={}}var ec={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:ay(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var eb in ec){if(!Object.prototype.hasOwnProperty.call(ec,eb)){continue}if(!Object.prototype.hasOwnProperty.call(ef,eb)){continue}if(!ef[eb]){continue}if(eb==="fields"||eb==="client_fields"||eb==="items"||eb==="placeholders_data"){ef[eb]=JSON.stringify(ef[eb])}ec[eb]=d2(ef[eb])}var ee=dr();var ed=cJ()+"//"+b2+"/api/site/"+d+"/"+ee+"/reach-goal?v=2";for(var ea in ec){if(!Object.prototype.hasOwnProperty.call(ec,ea)){continue}ed=ed+"&"+ea+"="+ec[ea]}if(d9!==d7){var d8=Math.random().toString();d4[d8]=d9;ed+="&callback_key="+d8}c6(ed);bP("Reach goal completed")};var d6=d5.roistatGoal={reach:function(d9,d8){d3(d9,d8)},callAfterReachCallback:function(d8){if(Object.prototype.hasOwnProperty.call(d4,d8)){d4[d8]();delete d4[d8]}}}})(cD,cM,dT);(function ab(d4,e,d5){var d2=function(d7){if(d7 instanceof Array||d7===null||typeof d7!=="object"){bP("Invalid event data");return""}return d3(d7)};var d3=function(d8,ec,eb){var ea=ec||0;var d7=eb||[];if(ea>20){bP("Recursion depth exceeded when processing additional event fields");return""}ea++;var ef=[];for(var ee in d8){if(Object.prototype.hasOwnProperty.call(d8,ee)){var ed=d8[ee];
if(typeof ed==="string"||typeof ed==="number"){var d9=d7.length>0?"["+d7.join("][")+"]":"";ef.push("&data"+d9+"["+encodeURIComponent(ee)+"]="+encodeURIComponent(ed))}else{if(typeof ed==="object"){d7.push(encodeURIComponent(ee));ef.push(d3(ed,ea,d7));d7.pop()}else{bP("Event data property ignored: "+ee)}}}}return ef.length>0?ef.join(""):""};var d6=function(d9,eb){bP("Send event start");var d7=di();var ea=d2(eb);var d8=bS()+"/event/register?visit="+d7+"&event="+d9+ea;c6(d8);bP("Send event completed")};d4.roistat.event={send:function(d7,d8){d6(d7,d8)}}})(cD,cM,dT);(function bp(eb,ed,d4){if(aH()){bP("VisitApprove: Shut down because only online chat need to be inited");return}var ee=eb.roistatIsInitVisit===true?20000:10000;var d3=(new Date()).getTime();var d2=function(ei){return"approve_visit_"+ei};var ea=function(ei){du.set(d2(ei),1)};var ef=function(ei){return du.get(d2(ei))>0};var e,d6,eh=[];if(ed.addEventListener){e=function(ej,ei,ek){return ej.addEventListener(ei,ek,false)};d6=function(ej,ei,ek){return ej.removeEventListener(ei,ek,false)}}else{e=function(ej,ei,ek){return ej.attachEvent("on"+ei,ek)};d6=function(ej,ei,ek){return ej.detachEvent("on"+ei,ek)}}var d9=function(el){if(eh.length>30){return}el=el||eb.event;if(!el||!el.screenX){return}var ek=(new Date()).getTime();var en,em=null;if(eh.length>0){em=eh[eh.length-1]}if(em){en=ek-em.time}else{en=ek-d3}if(en<300){return}en=en-300;var ep=0;var ei=el.screenX;var eo=el.screenY;if(em){ep=parseInt(Math.sqrt(Math.pow(em.y-eo,2)+Math.pow(em.x-ei,2)))}var ej={time:ek,pauseBeforeMove:en,x:ei,y:eo,distance:ep};eh.push(ej)};var d8=function(){var ei=[];d1(eh,function(ej){var ek=[ej.pauseBeforeMove,ej.distance];ei.push(ek.join(":"))});if(ei.length===0){ei.push("0:0")}return ei.join("|")};var d5=function(){for(var ei in eb){if(bN(ei,"yaCounter")){return true}}return false};var ec=function(){d6(ed,"mousemove",d9);var ei=di();bP("VisitApprove: start for visit "+ei);if(ef(ei)){bP("VisitApprove: visit already approved, skip");return}ea(ei);cb();var ej=bS()+"/approve?v="+cY+"&visit="+ei;if(eg()){ej+="&hash="+s()}if(d7()){ej+="&page_params="+encodeURIComponent(JSON.stringify(eb.roistat.page.params));a5()}ej+="&mv="+d8();ej+="&pl="+(eb.navigator?eb.navigator.platform:"");ej+="&ym="+(d5()?"1":"0");ej+="&wd="+(eb.navigator?(eb.navigator.webdriver===true?"1":"0"):"0");c6(ej)};var eg=function(){var em=K.cookies,el=bk();var eo=b4();for(var ej=0;ej<eo.length;ej++){var en=eo[ej];var ep=Object.prototype.hasOwnProperty.call(em,en)?em[en]:d4;var ei=Object.prototype.hasOwnProperty.call(el,en)?el[en]:d4;var ek=typeof ei==="string"&&ei.length>0;if(ek&&ep!==ei){return true}}return false};var d7=function(){var en=K.pageParams,ek=eb.roistat.page.params;for(var ej=0;ej<cj.length;ej++){var ei=cj[ej];var el=Object.prototype.hasOwnProperty.call(en,ei)?en[ei]:null;var em=Object.prototype.hasOwnProperty.call(ek,ei)?ek[ei]:null;if(em!==el){return true}}return false};setTimeout(function(){ec()},ee);e(ed,"mousemove",d9)})(cD,cM,dT);(function aD(d7,d8,d3){var d5=function(){return cp("roistat_ab_demo")==="1"};var d9=function(ec){return new RegExp(ec.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var d6=function(eh){var ec=d7.location.href,ef=eh.filter,el=eh.filterValue;var ei;switch(ef){case"except":case"pages":var ed,ek,ej=false;ek=ec?aS(ec):"";ei=el?el.split("\n"):[];if(ek&&ei.length!==0){for(var ee=0;ee<ei.length;ee++){var eg=ei[ee].trim();if(eg.length===0){continue}ed=d9(eg);if(ed.test(ek)){ej=true;break}}}return(ef==="pages")?ej:!ej;break;case"all":default:return true}};var d2=function(ee){var ec=d8.getElementsByTagName("head")[0],ed;ed=d8.createElement("style");ed.setAttribute("type","text/css");if(ed.styleSheet){ed.styleSheet.cssText=ee.value}else{ed.innerText=ee.value}ec.appendChild(ed);bP("Applied css-test: "+ee.id)};var e=function(ec){if(Object.prototype.hasOwnProperty.call(ds.onAbTestsApplied,ec.id)){ds.onAbTestsApplied[ec.id](ec.value)}bP("Applied uniform-test: "+ec.id)};var d4=function(ec){if(d6(ec)){switch(ec.type){case"css":d2(ec);break;case"uniform":e(ec);break}}};d7.applyTests=function(){bP("Start applying ab tests");var ec=aU.getObject("abTesting");var ee,ed;for(ee in ec){if(!Object.prototype.hasOwnProperty.call(ec,ee)){continue}ed=ec[ee];d4(ed)}K.isAbTestsApplied=true;bP("End applying ab tests");if(d7.onRoistatAbTestsApplied!==d3&&typeof d7.onRoistatAbTestsApplied==="function"){d7.onRoistatAbTestsApplied()}};var ea=function(){bP("Call: apply demo AB test");var ec=cp("roistat_ab_data");var ed;if(ec===null){return}else{ed=JSON.parse(ba.decode(ec))}if(typeof ed!=="object"){bP("Error: testValue is not an object.");return}d4(ed)};function eb(){if(aH()){bP("ABTest: Shut down because only online chat need to be inited");return}var ec=d5();if(!dq&&!ec){applyTests()}if(ec){ea()}}eb()})(cD,cM,dT);(function bJ(d2,e,d3){if(aU.get(dX)>0){bP("visitStream: disabled by settings");return}if(aH()){bP("visitStream: Shut down because only online chat need to be inited");return}if(!aE){return
}setTimeout(function(){(function(ea,d9,ed,ec,d7,d5,d8){ea[d7]={COUNTER_ID:d5,HOST:d8};var d6=d9.location.protocol=="https:"?"https://":"http://";var d4=d9.createElement(ed);d4.async=1;d4.src=d6+d8+ec;var eb=d9.getElementsByTagName(ed)[0];eb.parentNode.insertBefore(d4,eb)})(d2,e,"script","/counter.js","datamap",dr(),aE)},1000)})(cD,cM,dT);(function U(d3,e,d4){var d5=function(){var d6=d3.roistatMetrikaCounterId;if(d6){aU.set(f,d6)}};var d2=function(eb){var d6="yaCounter"+eb;var ea=100,d8=0,d9=60000;var d7=function(){d8+=ea;bP("YandexMetrika: trying to access counter "+eb);if(d3[d6]===d4){if(d8<d9){setTimeout(d7,ea);ea*=2}return}var ec={};ec[S]=di();d3[d6].params(ec);bP("YandexMetrika: visit id "+ec[S]+" sent to counter "+eb)};setTimeout(d7,ea)};ak(function(){d5();var d8=aU.get(f);if(!d8){bP("YandexMetrika: counter id not found");return}var d7=String(d8).split(",");bP("YandexMetrika: counters: "+d7);for(var d6=0;d6<d7.length;d6++){if(d7[d6].trim()===""){continue}d2(d7[d6])}})})(cD,cM,dT);(function df(eb,ef){var ej=function(em){bP("Proxy Forms: "+em)};var d8=function(){if(eb.roistat.proxyForms.loaded&&eb.roistat.proxyForms.settings.length>0){ej("save loaded settings");eg(eb.roistat.proxyForms.settings)}else{ej("settings not loaded, getting from storage");eb.roistat.proxyForms.settings=aU.getObject(dz)||[]}};var eg=function(em){aU.setObject(dz,em)};var ec=function(){ej("init form listener");d4(eb.roistat.proxyForms.settings);e(eb.roistat.proxyForms.settings)};var el=function(em){return em.hasOwnProperty("hosts")&&em.hasOwnProperty("is_excluding_hosts")&&z(em.hosts)&&em.hosts.length>0};var d6=function(en){if(!el(en)){return true}var eo=bZ(en.hosts,dO(eb.location.host));var em=Boolean(en.is_excluding_hosts);return em?!eo:eo};var d3=function(en){var em=[];d1(en,function(eo){if(d6(eo)){em.push(eo)}});return em};var e=function(em){var eo=[];d1(em,function(ep){if(ep.type==="js-button"){eo.push(ep)}});if(eo.length<1){ej("no button settings");return}var en;if(ef.addEventListener){en=function(ep){d7(eo,ep,ep.target,d5)};ef.addEventListener("click",en,true)}else{if(ef.attachEvent){en=function(){var ep=eb.event;d7(eo,ep,ep.srcElement,d5,true)};ef.attachEvent("onclick",en)}else{ej("Listener could not be attached")}}};var d4=function(en){var em=[];d1(en,function(ep){if(ep.type==="form"){em.push(ep)}});if(em.length<1){ej("no form settings");return}if(ef.addEventListener){var eo=function(ep){d7(em,ep,ep.target,ek)};ef.addEventListener("submit",eo,true)}else{if(ef.attachEvent){setInterval(function(){em=d3(em);var ep=ef.getElementsByTagName("form");d1(ep,function(eq){if(eq.getAttribute("data-roistat-proxy-form-checked")==="true"){return}eq.setAttribute("data-roistat-proxy-form-checked","true");d1(em,function(er){if(d2(eq,er.selector)){eq.attachEvent("onsubmit",function(){eb.event.returnValue=false;ek(er,eb.event.srcElement)})}})})},2000)}else{ej("Listener could not be attached")}}};var d7=function(ep,eq,er,eo,em){var es=d3(ep);var en=null;d1(es,function(et){if(d2(er,et.selector)){en=et}});if(en===null){ej("No matched settings found for listener");return}eo(eq,en,er,em)};var ek=function(eq,eo,ep,en){var em=ee(ep,eo);if(!eh(em,eo)){return}en?eq.returnValue=false:eq.preventDefault();d9(em,eo,function(){HTMLFormElement.prototype.submit.call(ep)})};var d5=function(eo,en){var em=ee(null,en);if(!eh(em,en)){return}d9(em,en)};var d9=function(em,ep,er){var eq={};var eo=ea(ep.crm)&&ep.crm.hasOwnProperty("is_enabled");var en=eo?ep.crm.is_enabled:true;eq.leadName=ep.hasOwnProperty("lead_name")?ep.lead_name:"Новый лид с формы "+ep.title;eq.formTitle=ep.title;eq.name=em.name;eq.phone=em.phone;eq.email=em.email;eq.text=em.comment;eq.fields=em.fields;eq.placeholders_data=em.placeholdersData;eq.is_need_callback=ep.is_need_callback>0?1:0;eq.is_skip_sending=!en;eb.roistatGoal.reach(eq,er)};var ea=function(em){return(typeof em==="number"&&!isNaN(em))||(typeof em==="string"&&em!=="")||(typeof em==="object"&&em!==null)||(typeof em==="boolean"&&em)||z(em)};var eh=function(em,eo){var en=[],eq=["name","email","phone","comment"];d1(eq,function(er){if(eo.hasOwnProperty(er)&&eo[er].required>0){en.push(er)}});if(z(eo.fields)){d1(eo.fields,function(er){if(er.required>0){en.push(er)}})}var ep=true;d1(en,function(er){if(!em.hasOwnProperty(er)||!ea(em[er])){ep=false}});return ep};var ee=function(eo,en){var em={};em.name=en.name?ed(eo,en.name.value,en.name.type):"";em.phone=en.phone?ed(eo,en.phone.value,en.phone.type):"";em.email=en.email?ed(eo,en.email.value,en.email.type):"";em.comment=en.comment?ed(eo,en.comment.value,en.comment.type):"";em.fields={};em.placeholdersData={orderPage:l};if(z(en.fields)){d1(en.fields,function(ep){em.fields[ep.name]=ed(eo,ep.value,ep.type)})}return em};var ed=function(en,eq,em){switch(em){case"plain":return eq||"";case"input":var ep=en.querySelector('input[name="'+eq+'"]');return ep?ep.value:"";case"js":try{return(new Function(eq))()}catch(eo){return""}}};var ei=function(){ej("init");if(aH()){ej("Shut down because only online chat need to be inited");
return}if(!eb.roistat.proxyForms.enabled){ej("disabled");return}d8();ec()};var d2=function(ep,en){if(typeof Element!=="undefined"&&Element.prototype.matches){var em=ep.matches(en);if(!em){return ep.closest(en)?ep.closest(en).matches(en):false}return em}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var eq=ep.matchesSelector(en);if(!eq){return ep.closest(en)?ep.closest(en).matches(en):false}return eq}else{if(ef.querySelectorAll){var er=ef.querySelectorAll(en);for(var eo=0;eo<er.length;eo++){if(er[eo]===ep){return true}}return false}}}return false};ak(ei);eb.roistatSaveProxyFormSettings=eg})(cD,cM);(function R(){if(cD.onRoistatAllModulesLoaded!==dT&&typeof cD.onRoistatAllModulesLoaded==="function"){bP("onRoistatAllModulesLoaded: call");cD.onRoistatAllModulesLoaded()}})();(function B(d8,eb,d5){var e=function(){return aU.get(d0)*1>0};var ea=function(eh){bP("Request listener: "+eh)};var eg=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var d9=/^[^\s]+[@][^\s]+$/g;var d4=["mc.yandex.ru"];var d3=function d3(){ea("listen");if(d8.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function ej(em){var el=this;ec(el.responseURL,em,function(){el.oldSend(em)})}XMLHttpRequest.prototype.send=ej}if(d8.ActiveXObject){var ei=ek;function ek(en){var el=new ei(en);var eo={};if(en.toLowerCase()==="msxml2.xmlhttp"){eo={_ax:el,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var em="";eo._onReadyStateChange=function(){var ep=eo;return function(){ep.readyState=ep._ax.readyState;if(ep.readyState===4){ep.responseText=ep._ax.responseText;ep.responseXml=ep._ax.responseXml;ep.status=ep._ax.status;ep.statusText=ep._ax.statusText}if(ep.onReadyStateChange){ep.onReadyStateChange()}}}();eo.open=function(et,er,es,ep,eq){em=er;es=(es!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(et,er,es,ep,eq)};eo.send=function(ep){var eq=this;ec(em,ep,function(){this._ax.send(ep)})}}else{eo=el}return eo}d8.ActiveXObject=ek}if(d8.fetch){var eh=fetch;fetch=function(el,em){ec(el.url,em||{});return eh(el,em||{})}}d8.addEventListener("submit",function(eo){var eq=eo.target.elements;var ep={};for(var en=0;en<eq.length;en++){var em=eq[en];var el=em.getAttribute("name");ep[el]=em.value}ec("",ep)})};function d6(eh){var ek={};if(eh.length===0){return ek}var ej=eh.split("?");if(ej.length<2){return ek}var ei=ej[1];ek=d2(ei);return ek}function d2(ei){var ej=ei.split("&"),el={};for(var eh=0;eh<ej.length;eh++){var ek=ej[eh].split("=");if(ek.length<2){continue}el[ek[0]]=ek[1]}return el}function ee(ey){ea("data: "+JSON.stringify(ey));var er={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var eo={email:"",phone:"",name:""};for(var eh in er){var eu=er[eh];for(var et in eu){if(eu.hasOwnProperty(et)){if(ey.hasOwnProperty(eu[et])){eo[eh]=ey[eu[et]];break}}}}ea("new data: "+JSON.stringify(eo));var ej=eo.phone.length===0;var en=eo.email.length===0;if(!ej&&!en){return eo}var ei=new RegExp(d9);var em=new RegExp(eg);var ep=Object.keys(ey);for(var ev=0;ev<ep.length;ev++){var es=decodeURIComponent(String(ey[ep[ev]]));if(en){var ek=es.match(ei);if(ek&&ek.length>0){var eq=eo.email;eo.email=ek[0];ea("parsing email, before: "+eq+", after: "+eo.email)}}if(ej){var ex=es.replace(/[\s-.()+*_—:;'"`]/g,"");var ew=ex.match(em);if(ew&&ew.length>0){var el=eo.phone;eo.phone=es;ea("parsing phone, before: "+el+", after: "+eo.phone)}}}return eo}var d7=function(eh){var ei=dO(eh);return !av(d4,ei)};function ec(ej,ei,eh){if(ej.length>0&&!d7(ej)){return}var el=d6(ej);var en=ei;if(typeof en==="string"){en=d2(en)}ea("data before parsing "+JSON.stringify({get:el,post:en}));var em=ee(el);var ek=ee(en);ea("data after parsing "+JSON.stringify({get:em,post:ek}));ed(em,ek,eh)}function ed(eh,ej,en){var em=eh.email.length>0?eh.email:ej.email;var ei=eh.phone.length>0?eh.phone:ej.phone;var el=eh.name.length>0?eh.name:ej.name;if(em.length==0&&ei.length==0){en();return}setTimeout(function(){en()},100);var ek={leadName:"Автоматический лид с сайта",name:el,phone:ei,email:em,is_skip_sending:1};ea("phone or email is not empty, reaching goal "+JSON.stringify(ek));roistatGoal.reach(ek)}(function ef(){if(!e()){ea("disabled, skip");return}d3()})()})(cD,cM,dT);(function a7(d7,d8,d2){var e=false;var d3=false;var d9=[{url:"ozon.ru",isValid:function(){return d5()&&e},tag:function(){return d5()?"vendor_org_"+encodeURIComponent(d7.roistat.linksMarkup.ozonId):""}},{url:"wildberries.ru",isValid:function(){return d5()&&d3},tag:function(){return d5()?encodeURIComponent(d7.roistat.linksMarkup.wildberriesId)+"-id-my_ad_campaign":""}}];var d6=function(ea){bP("Links markup: "+ea)};var d5=function(){return typeof d7.roistat==="object"&&d7.roistat!==null&&typeof d7.roistat.linksMarkup==="object"&&d7.roistat.linksMarkup!==null
};var d4=function(ec){var eb={};var ea=ec.charAt(0)==="?"?ec.slice(1):ec;ea.split("&").forEach(function(ed){var [key,ee]=ed.split("=").map(bL);if(key.trim()===""||ee.trim()===""){return}eb[key]=ee});return eb};var getUrlTags=function(){var eg=["utm_campaign","utm_source","utm_medium","utm_term","utm_content","roistat"];var ei={};d6("get url tags");var eh=d4(d7.location.search);Object.keys(eh).forEach(function(ej){if(eg.indexOf(ej)!==-1){ei[ej]=eh[ej]}});return ei};var getLinksByUrl=function(){var eh=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);var eg=d8.querySelectorAll("a");var ei={};d6("get integration links");eg.forEach(function(ej){var el=ej.href;if(eh.test(el)){var ek=dO(el);d9.forEach(function(em){if(em.isValid()&&ek.indexOf(em.url)===0&&el.indexOf(em.tag())===-1){if(typeof ei[em.url]==="undefined"){ei[em.url]=[]}ei[em.url].push(ej)}})}});return ei};var addTagsToLinks=function(ej,ei){var eg="utm_campaign";d6("remove utm_campaign from tags");delete ei[eg];var eh=Object.keys(ei).map(function(ek){return encodeURIComponent(ek)+"="+encodeURIComponent(ei[ek])}).join("&");if(eh.length>0){eh="&"+eh}d6("prepared tags for link without utm_campaign: "+eh);d9.forEach(function(el){if(typeof ej[el.url]==="undefined"){return}d6("add tags for: "+el.url);var em=eg+"="+el.tag();var ek=em+eh;ej[el.url].forEach(function(en){var ep=en.href.split("#");var eo=ep[0].split("?");eo[1]=eo.length===2&&eo[1]!==""?eo[1]+"&"+ek:ek;ep[0]=eo.join("?");en.href=ep.join("#")})})};var processLinksMarkup=function(){d6("try to find tags and integration urls");var eg=getUrlTags();if(Object.keys(eg).length===0){d6("no tags in url, skip");return}var eh=getLinksByUrl();if(Object.keys(eh).length===0){d6("no links found, skip");return}addTagsToLinks(eh,eg);d6("tags added, done")};var bE=function(){d6("init");var eg=aU.getObject(bi);if(eg&&eg.hasOwnProperty("id_ozon")&&eg.hasOwnProperty("id_wildberries")){d7.roistat.linksMarkup.ozonId=eg.id_ozon;d7.roistat.linksMarkup.wildberriesId=eg.id_wildberries;d6("set settings from storage")}else{d6("disabled, skip.");return}e=typeof d7.roistat.linksMarkup.ozonId==="string"&&d7.roistat.linksMarkup.ozonId.trim()!=="";d3=typeof d7.roistat.linksMarkup.wildberriesId==="string"&&d7.roistat.linksMarkup.wildberriesId.trim()!=="";if(e||d3){processLinksMarkup();setTimeout(function(){processLinksMarkup()},300);setTimeout(function(){processLinksMarkup()},5000);setTimeout(function(){processLinksMarkup()},15000)}else{d6("settings are empty, skip.")}};ak(bE);c7(bE)})(cD,cM,dT)})(window,document,undefined);